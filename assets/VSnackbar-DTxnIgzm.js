import{aU as le,u as ie,O as oe,P as re,r as G,aK as Ne,j as L,s as M,Q as se,aV as W,aH as ce,g as K,m as q,y as de,ag as ve,D as ne,b as p,a as v,F as Y,G as J,I as ae,a3 as ee,ah as me,aM as fe,aN as Ve,K as be,aW as ke,Y as xe,aC as Se,R as Ie,S as Te,Z as Ce,aX as De,aY as Ee,a5 as Le,a4 as Ae,a7 as Fe,a8 as Re,a9 as Be,aE as _e,z as ue,a1 as Me,aZ as Ue}from"./index-CluDsl8v.js";import{i as $}from"./VSelect-DMt4qfCj.js";const pe=Symbol.for("vuetify:layout");function Oe(){const e=le(pe);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}const ze=50,He=500;function Ke(e){let{toggleUpDown:m}=e,n=-1,u=-1;ie(c);function N(o){c(),f(o),window.addEventListener("pointerup",c),document.addEventListener("blur",c),n=window.setTimeout(()=>{u=window.setInterval(()=>f(o),ze)},He)}function c(){window.clearTimeout(n),window.clearInterval(u),window.removeEventListener("pointerup",c),document.removeEventListener("blur",c)}function f(o){m(o==="up")}return{holdStart:N,holdStop:c}}const Ye=re({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...fe(Ve(),["modelValue","validationValue"])},"VNumberInput"),Xe=oe()({name:"VNumberInput",props:{...Ye()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,m){let{slots:n}=m;const u=G(),{holdStart:N,holdStop:c}=Ke({toggleUpDown:R}),f=Ne(e),o=L(()=>f.isDisabled.value||f.isReadonly.value),g=M(e.focused);function w(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision;const d=a==null?String(t):t.toFixed(a);return g.value?Number(d).toString():d}const l=se(e,"modelValue",null,t=>t??null,t=>t==null?t??null:W(Number(t),e.min,e.max)),b=M(null);ce(()=>{g.value&&!o.value||(l.value==null?b.value=null:isNaN(l.value)||(b.value=w(l.value)))});const s=L({get:()=>b.value,set(t){t===null||t===""?(l.value=null,b.value=null):!isNaN(Number(t))&&Number(t)<=e.max&&Number(t)>=e.min&&(l.value=Number(t),b.value=t)}}),T=L(()=>o.value?!1:(l.value??0)+e.step<=e.max),V=L(()=>o.value?!1:(l.value??0)-e.step>=e.min),r=L(()=>e.hideInput?"stacked":e.controlVariant),A=K(()=>r.value==="split"?"$plus":"$collapse"),U=K(()=>r.value==="split"?"$minus":"$expand"),k=K(()=>r.value==="split"?"default":"small"),y=K(()=>r.value==="stacked"?"auto":"100%"),j={props:{onClick:C,onPointerup:i,onPointerdown:x,onPointercancel:i}},Z={props:{onClick:C,onPointerup:i,onPointerdown:S,onPointercancel:i}};q(()=>e.precision,()=>ge()),de(()=>{D()});function F(t){if(t==null)return 0;const a=t.toString(),d=a.indexOf(".");return~d?a.length-d:0}function R(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(o.value)return;if(l.value==null){s.value=w(W(0,e.min,e.max));return}let a=Math.max(F(l.value),F(e.step));e.precision!=null&&(a=Math.max(a,e.precision)),t?T.value&&(s.value=w(l.value+e.step,a)):V.value&&(s.value=w(l.value-e.step,a))}function X(t){var H;if(!t.data)return;const a=t.target,{value:d,selectionStart:O,selectionEnd:z}=a??{},I=d?d.slice(0,O)+t.data+d.slice(z):t.data,E=ke(I,e.precision);/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(I)||(t.preventDefault(),a.value=E),e.precision!=null&&(((H=I.split(".")[1])==null?void 0:H.length)>e.precision&&(t.preventDefault(),a.value=E),e.precision===0&&I.includes(".")&&(t.preventDefault(),a.value=E))}async function Q(t){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(t.key)||t.ctrlKey||["ArrowDown","ArrowUp"].includes(t.key)&&(t.preventDefault(),D(),await be(),t.key==="ArrowDown"?R(!1):R())}function C(t){t.stopPropagation()}function i(t){const a=t.currentTarget;a==null||a.releasePointerCapture(t.pointerId),t.preventDefault(),c()}function x(t){const a=t.currentTarget;a==null||a.setPointerCapture(t.pointerId),t.preventDefault(),t.stopPropagation(),N("up")}function S(t){const a=t.currentTarget;a==null||a.setPointerCapture(t.pointerId),t.preventDefault(),t.stopPropagation(),N("down")}function D(){if(o.value||!u.value)return;const t=u.value.value;t&&!isNaN(Number(t))?s.value=w(W(Number(t),e.min,e.max)):s.value=null}function ge(){if(!o.value){if(l.value===null||isNaN(l.value)){s.value=null;return}s.value=e.precision==null?String(l.value):l.value.toFixed(e.precision)}}function we(){if(!o.value){if(l.value===null||isNaN(l.value)){s.value=null;return}s.value=l.value.toString()}}function ye(){we()}function he(){D()}return ve(()=>{const{modelValue:t,...a}=ne.filterProps(e);function d(){return n.increment?v(ee,{key:"increment-defaults",defaults:{VBtn:{disabled:!T.value,flat:!0,height:y.value,size:k.value,icon:A.value}}},{default:()=>[n.increment(j)]}):v(ae,{"aria-hidden":"true","data-testid":"increment",disabled:!T.value,flat:!0,height:y.value,icon:A.value,key:"increment-btn",onClick:C,onPointerdown:x,onPointerup:i,onPointercancel:i,size:k.value,tabindex:"-1"},null)}function O(){return n.decrement?v(ee,{key:"decrement-defaults",defaults:{VBtn:{disabled:!V.value,flat:!0,height:y.value,size:k.value,icon:U.value}}},{default:()=>[n.decrement(Z)]}):v(ae,{"aria-hidden":"true","data-testid":"decrement",disabled:!V.value,flat:!0,height:y.value,icon:U.value,key:"decrement-btn",onClick:C,onPointerdown:S,onPointerup:i,onPointercancel:i,size:k.value,tabindex:"-1"},null)}function z(){return p("div",{class:"v-number-input__control"},[O(),v($,{vertical:r.value!=="stacked"},null),d()])}function I(){return!e.hideInput&&!e.inset?v($,{vertical:!0},null):void 0}const E=r.value==="split"?p("div",{class:"v-number-input__control"},[v($,{vertical:!0},null),d()]):e.reverse||r.value==="hidden"?void 0:p(Y,null,[I(),z()]),H=n["append-inner"]||E,te=r.value==="split"?p("div",{class:"v-number-input__control"},[O(),v($,{vertical:!0},null)]):e.reverse&&r.value!=="hidden"?p(Y,null,[z(),I()]):void 0,Pe=n["prepend-inner"]||te;return v(ne,J({ref:u},a,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,focused:g.value,"onUpdate:focused":h=>g.value=h,validationValue:l.value,onBeforeinput:X,onFocus:ye,onBlur:he,onKeydown:Q,class:["v-number-input",{"v-number-input--default":r.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":r.value==="split","v-number-input--stacked":r.value==="stacked"},e.class],style:e.style,inputmode:"decimal"}),{...n,"append-inner":H?function(){var _;for(var h=arguments.length,B=new Array(h),P=0;P<h;P++)B[P]=arguments[P];return p(Y,null,[(_=n["append-inner"])==null?void 0:_.call(n,...B),E])}:void 0,"prepend-inner":Pe?function(){var _;for(var h=arguments.length,B=new Array(h),P=0;P<h;P++)B[P]=arguments[P];return p(Y,null,[te,(_=n["prepend-inner"])==null?void 0:_.call(n,...B)])}:void 0})}),me({},u)}});function $e(e){const m=M(e());let n=-1;function u(){clearInterval(n)}function N(){u(),be(()=>m.value=e())}function c(f){const o=f?getComputedStyle(f):{transitionDuration:.2},g=parseFloat(o.transitionDuration)*1e3||200;if(u(),m.value<=0)return;const w=performance.now();n=window.setInterval(()=>{const l=performance.now()-w+g;m.value=Math.max(e()-l,0),m.value<=0&&u()},g)}return ie(u),{clear:u,time:m,start:c,reset:N}}const Ge=re({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Be({location:"bottom"}),...Re(),...Fe(),...Ae(),...Le(),...fe(_e({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Qe=oe()({name:"VSnackbar",props:Ge(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:n}=m;const u=se(e,"modelValue"),{positionClasses:N}=xe(e),{scopeId:c}=Se(),{themeClasses:f}=Ie(e),{colorClasses:o,colorStyles:g,variantClasses:w}=Te(e),{roundedClasses:l}=Ce(e),b=$e(()=>Number(e.timeout)),s=G(),T=G(),V=M(!1),r=M(0),A=G(),U=le(pe,void 0);De(()=>!!U,()=>{const i=Oe();ce(()=>{A.value=i.mainStyles.value})}),q(u,y),q(()=>e.timeout,y),de(()=>{u.value&&y()});let k=-1;function y(){b.reset(),window.clearTimeout(k);const i=Number(e.timeout);if(!u.value||i===-1)return;const x=Ee(T.value);b.start(x),k=window.setTimeout(()=>{u.value=!1},i)}function j(){b.reset(),window.clearTimeout(k)}function Z(){V.value=!0,j()}function F(){V.value=!1,y()}function R(i){r.value=i.touches[0].clientY}function X(i){Math.abs(r.value-i.changedTouches[0].clientY)>50&&(u.value=!1)}function Q(){V.value&&F()}const C=L(()=>e.location.split(" ").reduce((i,x)=>(i[`v-snackbar--${x}`]=!0,i),{}));return ve(()=>{const i=ue.filterProps(e),x=!!(n.default||n.text||e.text);return v(ue,J({ref:s,class:["v-snackbar",{"v-snackbar--active":u.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},C.value,N.value,e.class],style:[A.value,e.style]},i,{modelValue:u.value,"onUpdate:modelValue":S=>u.value=S,contentProps:J({class:["v-snackbar__wrapper",f.value,o.value,l.value,w.value],style:[g.value],onPointerenter:Z,onPointerleave:F},i.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:R,onTouchend:X,onAfterLeave:Q},c),{default:()=>{var S,D;return[Me(!1,"v-snackbar"),e.timer&&!V.value&&p("div",{key:"timer",class:"v-snackbar__timer"},[v(Ue,{ref:T,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":b.time.value},null)]),x&&p("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((S=n.text)==null?void 0:S.call(n))??e.text,(D=n.default)==null?void 0:D.call(n)]),n.actions&&v(ee,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[p("div",{class:"v-snackbar__actions"},[n.actions({isActive:u})])]})]},activator:n.activator})}),me({},s)}});export{Qe as V,Xe as a};
