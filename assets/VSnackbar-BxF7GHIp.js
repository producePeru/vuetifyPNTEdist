import{aR as le,u as ie,Q as oe,R as re,r as j,aH as Ne,j as L,s as M,S as se,aS as W,aC as ce,g as O,m as X,y as de,Y as ve,D as ne,b as p,a as v,F as $,G as Z,J as ae,a1 as ee,ay as me,aJ as fe,aK as Ve,K as be,aT as ke,ai as Se,aw as xe,ab as Te,ad as Ie,aj as Ce,aU as De,aV as Ee,am as Le,al as Ae,ao as Re,ap as Fe,aq as Be,az as _e,z as ue,av as Me,aW as Ue}from"./index-CHaGEUfn.js";import{i as Y}from"./VSelect-Du976AQb.js";const pe=Symbol.for("vuetify:layout");function ze(){const e=le(pe);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}const He=50,Ke=500;function Oe(e){let{toggleUpDown:m}=e,n=-1,u=-1;ie(c);function N(o){c(),f(o),window.addEventListener("pointerup",c),document.addEventListener("blur",c),n=window.setTimeout(()=>{u=window.setInterval(()=>f(o),He)},Ke)}function c(){window.clearTimeout(n),window.clearInterval(u),window.removeEventListener("pointerup",c),document.removeEventListener("blur",c)}function f(o){m(o==="up")}return{holdStart:N,holdStop:c}}const $e=re({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...fe(Ve(),["modelValue","validationValue"])},"VNumberInput"),qe=oe()({name:"VNumberInput",props:{...$e()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,m){let{slots:n}=m;const u=j(),{holdStart:N,holdStop:c}=Oe({toggleUpDown:F}),f=Ne(e),o=L(()=>f.isDisabled.value||f.isReadonly.value),g=M(e.focused);function w(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision;const d=a==null?String(t):t.toFixed(a);return g.value?Number(d).toString():d}const l=se(e,"modelValue",null,t=>t??null,t=>t==null?t??null:W(Number(t),e.min,e.max)),b=M(null);ce(()=>{g.value&&!o.value||(l.value==null?b.value=null:isNaN(l.value)||(b.value=w(l.value)))});const s=L({get:()=>b.value,set(t){t===null||t===""?(l.value=null,b.value=null):!isNaN(Number(t))&&Number(t)<=e.max&&Number(t)>=e.min&&(l.value=Number(t),b.value=t)}}),I=L(()=>o.value?!1:(l.value??0)+e.step<=e.max),V=L(()=>o.value?!1:(l.value??0)-e.step>=e.min),r=L(()=>e.hideInput?"stacked":e.controlVariant),A=O(()=>r.value==="split"?"$plus":"$collapse"),U=O(()=>r.value==="split"?"$minus":"$expand"),k=O(()=>r.value==="split"?"default":"small"),y=O(()=>r.value==="stacked"?"auto":"100%"),G={props:{onClick:C,onPointerup:i,onPointerdown:S,onPointercancel:i}},J={props:{onClick:C,onPointerup:i,onPointerdown:x,onPointercancel:i}};X(()=>e.precision,()=>ge()),de(()=>{D()});function R(t){if(t==null)return 0;const a=t.toString(),d=a.indexOf(".");return~d?a.length-d:0}function F(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(o.value)return;if(l.value==null){s.value=w(W(0,e.min,e.max));return}let a=Math.max(R(l.value),R(e.step));e.precision!=null&&(a=Math.max(a,e.precision)),t?I.value&&(s.value=w(l.value+e.step,a)):V.value&&(s.value=w(l.value-e.step,a))}function q(t){var K;if(!t.data)return;const a=t.target,{value:d,selectionStart:z,selectionEnd:H}=a??{},T=d?d.slice(0,z)+t.data+d.slice(H):t.data,E=ke(T,e.precision);/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(T)||(t.preventDefault(),a.value=E),e.precision!=null&&(((K=T.split(".")[1])==null?void 0:K.length)>e.precision&&(t.preventDefault(),a.value=E),e.precision===0&&T.includes(".")&&(t.preventDefault(),a.value=E))}async function Q(t){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(t.key)||t.ctrlKey||["ArrowDown","ArrowUp"].includes(t.key)&&(t.preventDefault(),D(),await be(),t.key==="ArrowDown"?F(!1):F())}function C(t){t.stopPropagation()}function i(t){const a=t.currentTarget;a==null||a.releasePointerCapture(t.pointerId),t.preventDefault(),c()}function S(t){const a=t.currentTarget;a==null||a.setPointerCapture(t.pointerId),t.preventDefault(),t.stopPropagation(),N("up")}function x(t){const a=t.currentTarget;a==null||a.setPointerCapture(t.pointerId),t.preventDefault(),t.stopPropagation(),N("down")}function D(){if(o.value||!u.value)return;const t=u.value.value;t&&!isNaN(Number(t))?s.value=w(W(Number(t),e.min,e.max)):s.value=null}function ge(){if(!o.value){if(l.value===null||isNaN(l.value)){s.value=null;return}s.value=e.precision==null?String(l.value):l.value.toFixed(e.precision)}}function we(){if(!o.value){if(l.value===null||isNaN(l.value)){s.value=null;return}s.value=l.value.toString()}}function ye(){we()}function he(){D()}return ve(()=>{const{modelValue:t,...a}=ne.filterProps(e);function d(){return n.increment?v(ee,{key:"increment-defaults",defaults:{VBtn:{disabled:!I.value,flat:!0,height:y.value,size:k.value,icon:A.value}}},{default:()=>[n.increment(G)]}):v(ae,{"aria-hidden":"true","data-testid":"increment",disabled:!I.value,flat:!0,height:y.value,icon:A.value,key:"increment-btn",onClick:C,onPointerdown:S,onPointerup:i,onPointercancel:i,size:k.value,tabindex:"-1"},null)}function z(){return n.decrement?v(ee,{key:"decrement-defaults",defaults:{VBtn:{disabled:!V.value,flat:!0,height:y.value,size:k.value,icon:U.value}}},{default:()=>[n.decrement(J)]}):v(ae,{"aria-hidden":"true","data-testid":"decrement",disabled:!V.value,flat:!0,height:y.value,icon:U.value,key:"decrement-btn",onClick:C,onPointerdown:x,onPointerup:i,onPointercancel:i,size:k.value,tabindex:"-1"},null)}function H(){return p("div",{class:"v-number-input__control"},[z(),v(Y,{vertical:r.value!=="stacked"},null),d()])}function T(){return!e.hideInput&&!e.inset?v(Y,{vertical:!0},null):void 0}const E=r.value==="split"?p("div",{class:"v-number-input__control"},[v(Y,{vertical:!0},null),d()]):e.reverse||r.value==="hidden"?void 0:p($,null,[T(),H()]),K=n["append-inner"]||E,te=r.value==="split"?p("div",{class:"v-number-input__control"},[z(),v(Y,{vertical:!0},null)]):e.reverse&&r.value!=="hidden"?p($,null,[H(),T()]):void 0,Pe=n["prepend-inner"]||te;return v(ne,Z({ref:u},a,{modelValue:s.value,"onUpdate:modelValue":h=>s.value=h,focused:g.value,"onUpdate:focused":h=>g.value=h,validationValue:l.value,onBeforeinput:q,onFocus:ye,onBlur:he,onKeydown:Q,class:["v-number-input",{"v-number-input--default":r.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":r.value==="split","v-number-input--stacked":r.value==="stacked"},e.class],style:e.style,inputmode:"decimal"}),{...n,"append-inner":K?function(){var _;for(var h=arguments.length,B=new Array(h),P=0;P<h;P++)B[P]=arguments[P];return p($,null,[(_=n["append-inner"])==null?void 0:_.call(n,...B),E])}:void 0,"prepend-inner":Pe?function(){var _;for(var h=arguments.length,B=new Array(h),P=0;P<h;P++)B[P]=arguments[P];return p($,null,[te,(_=n["prepend-inner"])==null?void 0:_.call(n,...B)])}:void 0})}),me({},u)}});function Ye(e){const m=M(e());let n=-1;function u(){clearInterval(n)}function N(){u(),be(()=>m.value=e())}function c(f){const o=f?getComputedStyle(f):{transitionDuration:.2},g=parseFloat(o.transitionDuration)*1e3||200;if(u(),m.value<=0)return;const w=performance.now();n=window.setInterval(()=>{const l=performance.now()-w+g;m.value=Math.max(e()-l,0),m.value<=0&&u()},g)}return ie(u),{clear:u,time:m,start:c,reset:N}}const je=re({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Be({location:"bottom"}),...Fe(),...Re(),...Ae(),...Le(),...fe(_e({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Qe=oe()({name:"VSnackbar",props:je(),emits:{"update:modelValue":e=>!0},setup(e,m){let{slots:n}=m;const u=se(e,"modelValue"),{positionClasses:N}=Se(e),{scopeId:c}=xe(),{themeClasses:f}=Te(e),{colorClasses:o,colorStyles:g,variantClasses:w}=Ie(e),{roundedClasses:l}=Ce(e),b=Ye(()=>Number(e.timeout)),s=j(),I=j(),V=M(!1),r=M(0),A=j(),U=le(pe,void 0);De(()=>!!U,()=>{const i=ze();ce(()=>{A.value=i.mainStyles.value})}),X(u,y),X(()=>e.timeout,y),de(()=>{u.value&&y()});let k=-1;function y(){b.reset(),window.clearTimeout(k);const i=Number(e.timeout);if(!u.value||i===-1)return;const S=Ee(I.value);b.start(S),k=window.setTimeout(()=>{u.value=!1},i)}function G(){b.reset(),window.clearTimeout(k)}function J(){V.value=!0,G()}function R(){V.value=!1,y()}function F(i){r.value=i.touches[0].clientY}function q(i){Math.abs(r.value-i.changedTouches[0].clientY)>50&&(u.value=!1)}function Q(){V.value&&R()}const C=L(()=>e.location.split(" ").reduce((i,S)=>(i[`v-snackbar--${S}`]=!0,i),{}));return ve(()=>{const i=ue.filterProps(e),S=!!(n.default||n.text||e.text);return v(ue,Z({ref:s,class:["v-snackbar",{"v-snackbar--active":u.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},C.value,N.value,e.class],style:[A.value,e.style]},i,{modelValue:u.value,"onUpdate:modelValue":x=>u.value=x,contentProps:Z({class:["v-snackbar__wrapper",f.value,o.value,l.value,w.value],style:[g.value],onPointerenter:J,onPointerleave:R},i.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:F,onTouchend:q,onAfterLeave:Q},c),{default:()=>{var x,D;return[Me(!1,"v-snackbar"),e.timer&&!V.value&&p("div",{key:"timer",class:"v-snackbar__timer"},[v(Ue,{ref:I,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":b.time.value},null)]),S&&p("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((x=n.text)==null?void 0:x.call(n))??e.text,(D=n.default)==null?void 0:D.call(n)]),n.actions&&v(ee,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[p("div",{class:"v-snackbar__actions"},[n.actions({isActive:u})])]})]},activator:n.activator})}),me({},s)}});export{Qe as V,qe as a};
