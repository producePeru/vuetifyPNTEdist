import{O as ue,a8 as xl,aq as Pl,a0 as Le,bm as Ie,ar as Re,N as Se,ag as ge,aR as He,E as O,a7 as Fl,S as we,d as w,q as Ee,T as Ve,p as Al,M as Ne,bi as Ye,s as z,r as re,aS as Dl,z as L,e as b,ax as Tl,F as he,V as xe,bn as Rl,az as Ml,ai as Bl,v as M,bo as Ce,al as Ze,a1 as _l,D as Pe,bp as Fe,aH as je,bq as el,k as se,aE as Ol,aX as ze,br as Ll,b3 as Ke,bs as ll,av as Ge,bt as El,R as Kl,bu as Ul,o as $l,aw as zl,P as De,W as Hl,I as Nl,Q as tl,bc as nl,aW as jl,bv as al,x as Me,aG as ul,bw as Gl,bh as Wl,bd as ol,bx as Be,by as il,bz as Ql,bA as rl,ac as sl,g as cl,y as Te,bB as Xl}from"./index-C0gaUYyG.js";import{u as dl,m as ql,V as vl,a as _e,c as fl,b as Oe}from"./VList-DQsT9Fmy.js";import{b as ml}from"./VDivider-BvDmpqQv.js";import{a as hl}from"./VAvatar-DaqhRadI.js";const yl=Symbol.for("vuetify:selection-control-group"),gl=ue({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Re,trueIcon:Re,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ie},...Le(),...Pl(),...xl()},"SelectionControlGroup"),Yl=ue({...gl({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");Se()({name:"VSelectionControlGroup",props:Yl(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:l}=r;const a=ge(e,"modelValue"),n=He(),v=O(()=>e.id||`v-selection-control-group-${n}`),d=O(()=>e.name||v.value),u=new Set;return Al(yl,{modelValue:a,forceUpdate:()=>{u.forEach(c=>c())},onForceUpdate:c=>{u.add(c),Ne(()=>{u.delete(c)})}}),Fl({[e.defaultsTarget]:{color:O(()=>e.color),disabled:O(()=>e.disabled),density:O(()=>e.density),error:O(()=>e.error),inline:O(()=>e.inline),modelValue:a,multiple:O(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),name:d,falseIcon:O(()=>e.falseIcon),trueIcon:O(()=>e.trueIcon),readonly:O(()=>e.readonly),ripple:O(()=>e.ripple),type:O(()=>e.type),valueComparator:O(()=>e.valueComparator)}}),we(()=>{var c;return w("div",{class:Ve(["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class]),style:Ee(e.style),role:e.type==="radio"?"radiogroup":void 0},[(c=l.default)==null?void 0:c.call(l)])}),{}}});const bl=ue({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Le(),...gl()},"VSelectionControl");function Jl(e){const r=Ml(yl,void 0),{densityClasses:l}=Bl(e),a=ge(e,"modelValue"),n=M(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),v=M(()=>e.falseValue!==void 0?e.falseValue:!1),d=M(()=>!!e.multiple||e.multiple==null&&Array.isArray(a.value)),u=M({get(){const p=r?r.modelValue.value:a.value;return d.value?Ce(p).some(I=>e.valueComparator(I,n.value)):e.valueComparator(p,n.value)},set(p){if(e.readonly)return;const I=p?n.value:v.value;let V=I;d.value&&(V=p?[...Ce(a.value),I]:Ce(a.value).filter(k=>!e.valueComparator(k,n.value))),r?r.modelValue.value=V:a.value=V}}),{textColorClasses:c,textColorStyles:g}=Ze(()=>{if(!(e.error||e.disabled))return u.value?e.color:e.baseColor}),{backgroundColorClasses:o,backgroundColorStyles:R}=_l(()=>u.value&&!e.error&&!e.disabled?e.color:e.baseColor),x=M(()=>u.value?e.trueIcon:e.falseIcon);return{group:r,densityClasses:l,trueValue:n,falseValue:v,model:u,textColorClasses:c,textColorStyles:g,backgroundColorClasses:o,backgroundColorStyles:R,icon:x}}const Je=Se()({name:"VSelectionControl",directives:{vRipple:Ye},inheritAttrs:!1,props:bl(),emits:{"update:modelValue":e=>!0},setup(e,r){let{attrs:l,slots:a}=r;const{group:n,densityClasses:v,icon:d,model:u,textColorClasses:c,textColorStyles:g,backgroundColorClasses:o,backgroundColorStyles:R,trueValue:x}=Jl(e),p=He(),I=z(!1),V=z(!1),k=re(),A=O(()=>e.id||`input-${p}`),m=O(()=>!e.disabled&&!e.readonly);n==null||n.onForceUpdate(()=>{k.value&&(k.value.checked=u.value)});function f(_){m.value&&(I.value=!0,Fe(_.target,":focus-visible")!==!1&&(V.value=!0))}function G(){I.value=!1,V.value=!1}function B(_){_.stopPropagation()}function oe(_){if(!m.value){k.value&&(k.value.checked=u.value);return}e.readonly&&n&&Pe(()=>n.forceUpdate()),u.value=_.target.checked}return we(()=>{var J,ce;const _=a.label?a.label({label:e.label,props:{for:A.value}}):e.label,[S,ie]=Dl(l),W=w("input",L({ref:k,checked:u.value,disabled:!!e.disabled,id:A.value,onBlur:G,onFocus:f,onInput:oe,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:x.value,name:e.name,"aria-checked":e.type==="checkbox"?u.value:void 0},ie),null);return w("div",L({class:["v-selection-control",{"v-selection-control--dirty":u.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":I.value,"v-selection-control--focus-visible":V.value,"v-selection-control--inline":e.inline},v.value,e.class]},S,{style:e.style}),[w("div",{class:Ve(["v-selection-control__wrapper",c.value]),style:Ee(g.value)},[(J=a.default)==null?void 0:J.call(a,{backgroundColorClasses:o,backgroundColorStyles:R}),Tl(w("div",{class:Ve(["v-selection-control__input"])},[((ce=a.input)==null?void 0:ce.call(a,{model:u,textColorClasses:c,textColorStyles:g,backgroundColorClasses:o,backgroundColorStyles:R,inputNode:W,icon:d.value,props:{onFocus:f,onBlur:G,id:A.value}}))??w(he,null,[d.value&&b(xe,{key:"icon",icon:d.value},null),W])]),[[Ye,!e.disabled&&!e.readonly&&e.ripple,null,{center:!0,circle:!0}]])]),_&&b(Rl,{for:A.value,onClick:B},{default:()=>[_]})])}),{isFocused:I,input:k}}}),Zl=ue({indeterminate:Boolean,indeterminateIcon:{type:Re,default:"$checkboxIndeterminate"},...bl({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),pl=Se()({name:"VCheckboxBtn",props:Zl(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,r){let{slots:l}=r;const a=ge(e,"indeterminate"),n=ge(e,"modelValue");function v(c){a.value&&(a.value=!1)}const d=O(()=>a.value?e.indeterminateIcon:e.falseIcon),u=O(()=>a.value?e.indeterminateIcon:e.trueIcon);return we(()=>{const c=je(Je.filterProps(e),["modelValue"]);return b(Je,L(c,{modelValue:n.value,"onUpdate:modelValue":[g=>n.value=g,v],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:d.value,trueIcon:u.value,"aria-checked":a.value?"mixed":void 0}),l)}),{}}}),et=ue({renderless:Boolean,...Le()},"VVirtualScrollItem"),lt=Se()({name:"VVirtualScrollItem",inheritAttrs:!1,props:et(),emits:{"update:height":e=>!0},setup(e,r){let{attrs:l,emit:a,slots:n}=r;const{resizeRef:v,contentRect:d}=el(void 0,"border");se(()=>{var u;return(u=d.value)==null?void 0:u.height},u=>{u!=null&&a("update:height",u)}),we(()=>{var u,c;return e.renderless?w(he,null,[(u=n.default)==null?void 0:u.call(n,{itemRef:v})]):w("div",L({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(c=n.default)==null?void 0:c.call(n)])})}}),tt=-1,nt=1,Ue=100,at=ue({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function ut(e,r){const l=Ol(),a=z(0);ze(()=>{a.value=parseFloat(e.itemHeight||0)});const n=z(0),v=z(Math.ceil((parseInt(e.height)||l.height.value)/(a.value||16))||1),d=z(0),u=z(0),c=re(),g=re();let o=0;const{resizeRef:R,contentRect:x}=el();ze(()=>{R.value=c.value});const p=M(()=>{var y;return c.value===document.documentElement?l.height.value:((y=x.value)==null?void 0:y.height)||parseInt(e.height)||0}),I=M(()=>!!(c.value&&g.value&&p.value&&a.value));let V=Array.from({length:r.value.length}),k=Array.from({length:r.value.length});const A=z(0);let m=-1;function f(y){return V[y]||a.value}const G=Ll(()=>{const y=performance.now();k[0]=0;const D=r.value.length;for(let U=1;U<=D;U++)k[U]=(k[U-1]||0)+f(U-1);A.value=Math.max(A.value,performance.now()-y)},A),B=se(I,y=>{y&&(B(),o=g.value.offsetTop,G.immediate(),te(),~m&&Pe(()=>{Ge&&window.requestAnimationFrame(()=>{ke(m),m=-1})}))});Ne(()=>{G.clear()});function oe(y,D){const U=V[y],Q=a.value;a.value=Q?Math.min(a.value,D):D,(U!==D||Q!==a.value)&&(V[y]=D,G())}function _(y){y=Ke(y,0,r.value.length);const D=Math.floor(y),U=y%1,Q=D+1,ye=k[D]||0,i=k[Q]||ye;return ye+(i-ye)*U}function S(y){return ot(k,y)}let ie=0,W=0,J=0;se(p,(y,D)=>{te(),y<D&&requestAnimationFrame(()=>{W=0,te()})});let ce=-1;function Z(){if(!c.value||!g.value)return;const y=c.value.scrollTop,D=performance.now();D-J>500?(W=Math.sign(y-ie),o=g.value.offsetTop):W=y-ie,ie=y,J=D,window.clearTimeout(ce),ce=window.setTimeout(be,500),te()}function be(){!c.value||!g.value||(W=0,J=0,window.clearTimeout(ce),te())}let de=-1;function te(){cancelAnimationFrame(de),de=requestAnimationFrame(E)}function E(){if(!c.value||!p.value||!a.value)return;const y=ie-o,D=Math.sign(W),U=Math.max(0,y-Ue),Q=Ke(S(U),0,r.value.length),ye=y+p.value+Ue,i=Ke(S(ye)+1,Q+1,r.value.length);if((D!==tt||Q<n.value)&&(D!==nt||i>v.value)){const C=_(n.value)-_(Q),$=_(i)-_(v.value);Math.max(C,$)>Ue?(n.value=Q,v.value=i):(Q<=0&&(n.value=Q),i>=r.value.length&&(v.value=i))}d.value=_(n.value),u.value=_(r.value.length)-_(v.value)}function ke(y){const D=_(y);!c.value||y&&!D?m=y:c.value.scrollTop=D}const pe=M(()=>r.value.slice(n.value,v.value).map((y,D)=>{const U=D+n.value;return{raw:y,index:U,key:ll(y,e.itemKey,U)}}));return se(r,()=>{V=Array.from({length:r.value.length}),k=Array.from({length:r.value.length}),G.immediate(),te()},{deep:1}),{calculateVisibleItems:te,containerRef:c,markerRef:g,computedItems:pe,paddingTop:d,paddingBottom:u,scrollToIndex:ke,handleScroll:Z,handleScrollend:be,handleItemResize:oe}}function ot(e,r){let l=e.length-1,a=0,n=0,v=null,d=-1;if(e[l]<r)return l;for(;a<=l;)if(n=a+l>>1,v=e[n],v>r)l=n-1;else if(v<r)d=n,a=n+1;else return v===r?n:a;return d}const it=ue({items:{type:Array,default:()=>[]},renderless:Boolean,...at(),...Le(),...Hl()},"VVirtualScroll"),Vl=Se()({name:"VVirtualScroll",props:it(),setup(e,r){let{slots:l}=r;const a=El("VVirtualScroll"),{dimensionStyles:n}=Kl(e),{calculateVisibleItems:v,containerRef:d,markerRef:u,handleScroll:c,handleScrollend:g,handleItemResize:o,scrollToIndex:R,paddingTop:x,paddingBottom:p,computedItems:I}=ut(e,O(()=>e.items));return Ul(()=>e.renderless,()=>{function V(){var m,f;const A=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";d.value===document.documentElement?(document[A]("scroll",c,{passive:!0}),document[A]("scrollend",g)):((m=d.value)==null||m[A]("scroll",c,{passive:!0}),(f=d.value)==null||f[A]("scrollend",g))}$l(()=>{d.value=zl(a.vnode.el,!0),V(!0)}),Ne(V)}),we(()=>{const V=I.value.map(k=>b(lt,{key:k.key,renderless:e.renderless,"onUpdate:height":A=>o(k.index,A)},{default:A=>{var m;return(m=l.default)==null?void 0:m.call(l,{item:k.raw,index:k.index,...A})}}));return e.renderless?w(he,null,[w("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:De(x.value)}},null),V,w("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:De(p.value)}},null)]):w("div",{ref:d,class:Ve(["v-virtual-scroll",e.class]),onScrollPassive:c,onScrollend:g,style:Ee([n.value,e.style])},[w("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:De(x.value),paddingBottom:De(p.value)}},[V])])}),{calculateVisibleItems:v,scrollToIndex:R}}});function kl(e,r){const l=z(!1);let a;function n(u){cancelAnimationFrame(a),l.value=!0,a=requestAnimationFrame(()=>{a=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>requestAnimationFrame(u)),await new Promise(u=>{if(l.value){const c=se(l,()=>{c(),u()})}else u()})}async function d(u){var o,R;if(u.key==="Tab"&&((o=r.value)==null||o.focus()),!["PageDown","PageUp","Home","End"].includes(u.key))return;const c=(R=e.value)==null?void 0:R.$el;if(!c)return;(u.key==="Home"||u.key==="End")&&c.scrollTo({top:u.key==="Home"?0:c.scrollHeight,behavior:"smooth"}),await v();const g=c.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(u.key==="PageDown"||u.key==="Home"){const x=c.getBoundingClientRect().top;for(const p of g)if(p.getBoundingClientRect().top>=x){p.focus();break}}else{const x=c.getBoundingClientRect().bottom;for(const p of[...g].reverse())if(p.getBoundingClientRect().bottom<=x){p.focus();break}}}return{onScrollPassive:n,onKeydown:d}}const rt=ue({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Cl(e,r){const l=He(),a=M(()=>`menu-${l}`),n=O(()=>Nl(r)),v=O(()=>a.value);return{menuId:a,ariaExpanded:n,ariaControls:v}}const Sl=ue({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Re,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...rt(),...ql({itemChildren:!1})},"Select"),st=ue({...Sl(),...je(ol({modelValue:null,role:"combobox"}),["validationValue","dirty"]),...Gl({transition:{component:Wl}})},"VSelect"),Vt=Se()({name:"VSelect",props:st(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:a}=tl(),n=re(),v=re(),d=re(),{items:u,transformIn:c,transformOut:g}=dl(e),o=ge(e,"modelValue",[],i=>c(i===null?[null]:Ce(i)),i=>{const C=g(i);return e.multiple?C:C[0]??null}),R=M(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:o.value.length),x=nl(e),p=jl(e),I=M(()=>o.value.map(i=>i.value)),V=z(!1),k=O(()=>e.closableChips&&!x.isReadonly.value&&!x.isDisabled.value),{InputIcon:A}=al(e);let m="",f=0,G;const B=M(()=>e.hideSelected?u.value.filter(i=>!o.value.some(C=>(e.valueComparator||Ie)(C,i))):u.value),oe=M(()=>e.hideNoData&&!B.value.length||x.isReadonly.value||x.isDisabled.value),_=ge(e,"menu"),S=M({get:()=>_.value,set:i=>{var C;_.value&&!i&&((C=v.value)!=null&&C.ΨopenChildren.size)||i&&oe.value||(_.value=i)}}),{menuId:ie,ariaExpanded:W,ariaControls:J}=Cl(e,S),ce=M(()=>{var i;return{...e.menuProps,activatorProps:{...((i=e.menuProps)==null?void 0:i.activatorProps)||{},"aria-haspopup":"listbox"}}}),Z=re(),be=kl(Z,n);function de(i){e.openOnClear&&(S.value=!0)}function te(){oe.value||(S.value=!S.value)}function E(i){Be(i)&&ke(i)}function ke(i){var q,Y,t;if(!i.key||x.isReadonly.value)return;if(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(i.key)&&i.preventDefault(),["Enter","ArrowDown"," "].includes(i.key)&&(S.value=!0),["Escape","Tab"].includes(i.key)&&(S.value=!1),e.clearable&&i.key==="Backspace"){i.preventDefault(),o.value=[],de();return}i.key==="Home"?(q=Z.value)==null||q.focus("first"):i.key==="End"&&((Y=Z.value)==null||Y.focus("last"));const C=1e3;if(!Be(i))return;const $=performance.now();$-G>C&&(m="",f=0),m+=i.key.toLowerCase(),G=$;const ve=B.value;function fe(){let s=X();return s||m.at(-1)===m.at(-2)&&(m=m.slice(0,-1),f++,s=X(),s)||(f=0,s=X(),s)?s:(m=i.key.toLowerCase(),X())}function X(){for(let s=f;s<ve.length;s++){const h=ve[s];if(h.title.toLowerCase().startsWith(m))return[h,s]}}const me=fe();if(!me)return;const[P,ee]=me;f=ee,(t=Z.value)==null||t.focus(ee),e.multiple||(o.value=[P])}function pe(i){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!i.props.disabled)if(e.multiple){const $=o.value.findIndex(fe=>(e.valueComparator||Ie)(fe.value,i.value)),ve=C??!~$;if(~$){const fe=ve?[...o.value,i]:[...o.value];fe.splice($,1),o.value=fe}else ve&&(o.value=[...o.value,i])}else{const $=C!==!1;o.value=$?[i]:[],Pe(()=>{S.value=!1})}}function y(i){var C;(C=Z.value)!=null&&C.$el.contains(i.relatedTarget)||(S.value=!1)}function D(){var i;e.eager&&((i=d.value)==null||i.calculateVisibleItems())}function U(){var i;V.value&&((i=n.value)==null||i.focus())}function Q(i){V.value=!0}function ye(i){if(i==null)o.value=[];else if(Fe(n.value,":autofill")||Fe(n.value,":-webkit-autofill")){const C=u.value.find($=>$.title===i);C&&pe(C)}else n.value&&(n.value.value="")}return se(S,()=>{if(!e.hideSelected&&S.value&&o.value.length){const i=B.value.findIndex(C=>o.value.some($=>(e.valueComparator||Ie)($.value,C.value)));Ge&&!e.noAutoScroll&&window.requestAnimationFrame(()=>{var C;i>=0&&((C=d.value)==null||C.scrollToIndex(i))})}}),se(u,(i,C)=>{S.value||V.value&&e.hideNoData&&!C.length&&i.length&&(S.value=!0)}),we(()=>{const i=!!(e.chips||l.chip),C=!!(!e.hideNoData||B.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),$=o.value.length>0,ve=Me.filterProps(e),fe=$||!V.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return b(Me,L({ref:n},ve,{modelValue:o.value.map(X=>X.props.title).join(", "),name:void 0,"onUpdate:modelValue":ye,focused:V.value,"onUpdate:focused":X=>V.value=X,validationValue:o.externalValue,counterValue:R.value,dirty:$,class:["v-select",{"v-select--active-menu":S.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":o.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:fe,"onClick:clear":de,"onMousedown:control":te,onBlur:y,onKeydown:ke,"aria-expanded":W.value,"aria-controls":J.value}),{...l,default:X=>{let{id:me}=X;return w(he,null,[w("select",{hidden:!0,multiple:e.multiple,name:p.fieldName.value},[u.value.map(P=>w("option",{key:P.value,value:P.value,selected:I.value.includes(P.value)},null))]),b(il,L({id:ie.value,ref:v,modelValue:S.value,"onUpdate:modelValue":P=>S.value=P,activator:"parent",contentClass:"v-select__content",disabled:oe.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:D,onAfterLeave:U},ce.value),{default:()=>[C&&b(vl,L({ref:Z,selected:I.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:P=>P.preventDefault(),onKeydown:E,onFocusin:Q,tabindex:"-1",selectable:!!B.value.length,"aria-live":"polite","aria-labelledby":`${me.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},be,e.listProps),{default:()=>{var P,ee,q;return[(P=l["prepend-item"])==null?void 0:P.call(l),!B.value.length&&!e.hideNoData&&(((ee=l["no-data"])==null?void 0:ee.call(l))??b(_e,{key:"no-data",title:a(e.noDataText)},null)),b(Vl,{ref:d,renderless:!0,items:B.value,itemKey:"value"},{default:Y=>{var T,H,le;let{item:t,index:s,itemRef:h}=Y;const K=Ql(t.props),j=L(t.props,{ref:h,key:t.value,onClick:()=>pe(t,null),"aria-posinset":s+1,"aria-setsize":B.value.length});return t.type==="divider"?((T=l.divider)==null?void 0:T.call(l,{props:t.raw,index:s}))??b(ml,L(t.props,{key:`divider-${s}`}),null):t.type==="subheader"?((H=l.subheader)==null?void 0:H.call(l,{props:t.raw,index:s}))??b(fl,L(t.props,{key:`subheader-${s}`}),null):((le=l.item)==null?void 0:le.call(l,{item:t,index:s,props:j}))??b(_e,L(j,{role:"option"}),{prepend:N=>{let{isSelected:F}=N;return w(he,null,[e.multiple&&!e.hideSelected?b(pl,{key:t.value,modelValue:F,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:ae=>ae.preventDefault()},null):void 0,K.prependAvatar&&b(hl,{image:K.prependAvatar},null),K.prependIcon&&b(xe,{icon:K.prependIcon},null)])}})}}),(q=l["append-item"])==null?void 0:q.call(l)]}})]}),o.value.map((P,ee)=>{function q(h){h.stopPropagation(),h.preventDefault(),pe(P,!1)}const Y=L(Oe.filterProps(P.props),{"onClick:close":q,onKeydown(h){h.key!=="Enter"&&h.key!==" "||(h.preventDefault(),h.stopPropagation(),q(h))},onMousedown(h){h.preventDefault(),h.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),t=i?!!l.chip:!!l.selection,s=t?rl(i?l.chip({item:P,index:ee,props:Y}):l.selection({item:P,index:ee})):void 0;if(!(t&&!s))return w("div",{key:P.value,class:"v-select__selection"},[i?l.chip?b(sl,{key:"chip-defaults",defaults:{VChip:{closable:k.value,size:"small",text:P.title}}},{default:()=>[s]}):b(Oe,L({key:"chip",closable:k.value,size:"small",text:P.title,disabled:P.props.disabled},Y),null):s??w("span",{class:"v-select__selection-text"},[P.title,e.multiple&&ee<o.value.length-1&&w("span",{class:"v-select__selection-comma"},[cl(",")])])])})])},"append-inner":function(){var ee,q;for(var X=arguments.length,me=new Array(X),P=0;P<X;P++)me[P]=arguments[P];return w(he,null,[(ee=l["append-inner"])==null?void 0:ee.call(l,...me),e.menuIcon?b(xe,{class:"v-select__menu-icon",color:(q=n.value)==null?void 0:q.fieldIconColor,icon:e.menuIcon,"aria-hidden":!0},null):void 0,e.appendInnerIcon&&b(A,{key:"append-icon",name:"appendInner",color:me[0].iconColor.value},null)])}})}),ul({isFocused:V,menu:S,select:pe},n)}}),ct=(e,r,l)=>{if(e==null||r==null)return-1;if(!r.length)return 0;e=e.toString().toLocaleLowerCase(),r=r.toString().toLocaleLowerCase();const a=[];let n=e.indexOf(r);for(;~n;)a.push([n,n+r.length]),n=e.indexOf(r,n+r.length);return a.length?a:-1};function $e(e,r){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+r.length]]:Array.isArray(e[0])?e:[e]}const dt=ue({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function vt(e,r,l){var c;const a=[],n=(l==null?void 0:l.default)??ct,v=l!=null&&l.filterKeys?Ce(l.filterKeys):!1,d=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return a;let u=null;e:for(let g=0;g<e.length;g++){const[o,R=o]=Ce(e[g]),x={},p={};let I=-1;if((r||d>0)&&!(l!=null&&l.noFilter)){let V=!1;if(typeof o=="object"){if(o.type==="divider"||o.type==="subheader"){(u==null?void 0:u.type)==="divider"&&o.type==="subheader"&&a.push(u),u={index:g,matches:{},type:o.type};continue}const m=v||Object.keys(R);V=m.length===d;for(const f of m){const G=ll(R,f),B=(c=l==null?void 0:l.customKeyFilter)==null?void 0:c[f];if(I=B?B(G,r,o):n(G,r,o),I!==-1&&I!==!1)B?x[f]=$e(I,r):p[f]=$e(I,r);else if((l==null?void 0:l.filterMode)==="every")continue e}}else I=n(o,r,o),I!==-1&&I!==!1&&(p.title=$e(I,r));const k=Object.keys(p).length,A=Object.keys(x).length;if(!k&&!A||(l==null?void 0:l.filterMode)==="union"&&A!==d&&!k||(l==null?void 0:l.filterMode)==="intersection"&&(A!==d||!k&&d>0&&!V))continue}u&&(a.push(u),u=null),a.push({index:g,matches:{...p,...x}})}return a}function ft(e,r,l,a){const n=z([]),v=z(new Map),d=M(()=>Te(r));ze(()=>{const c=typeof l=="function"?l():Te(l),g=typeof c!="string"&&typeof c!="number"?"":String(c),o=vt(d.value,g,{customKeyFilter:{...e.customKeyFilter,...Te(a==null?void 0:a.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),R=Te(r),x=[],p=new Map;o.forEach(I=>{let{index:V,matches:k}=I;const A=R[V];x.push(A),p.set(A.value,k)}),n.value=x,v.value=p});function u(c){return v.value.get(c.value)}return{filteredItems:n,filteredMatches:v,getMatches:u}}function mt(e,r,l){return l==null||!l.length?r:l.map((a,n)=>{const v=n===0?0:l[n-1][1],d=[w("span",{class:Ve(`${e}__unmask`)},[r.slice(v,a[0])]),w("span",{class:Ve(`${e}__mask`)},[r.slice(a[0],a[1])])];return n===l.length-1&&d.push(w("span",{class:Ve(`${e}__unmask`)},[r.slice(a[1])])),w(he,null,[d])})}const ht=ue({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...dt({filterKeys:["title"]}),...Sl(),...je(ol({modelValue:null,role:"combobox"}),["validationValue","dirty"])},"VAutocomplete"),kt=Se()({name:"VAutocomplete",props:ht(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:a}=tl(),n=re(),v=z(!1),d=z(!0),u=z(!1),c=re(),g=re(),o=z(-1),R=z(null),{items:x,transformIn:p,transformOut:I}=dl(e),{textColorClasses:V,textColorStyles:k}=Ze(()=>{var t;return(t=n.value)==null?void 0:t.color}),{InputIcon:A}=al(e),m=ge(e,"search",""),f=ge(e,"modelValue",[],t=>p(t===null?[null]:Ce(t)),t=>{const s=I(t);return e.multiple?s:s[0]??null}),G=M(()=>typeof e.counterValue=="function"?e.counterValue(f.value):typeof e.counterValue=="number"?e.counterValue:f.value.length),B=nl(e),{filteredItems:oe,getMatches:_}=ft(e,x,()=>R.value??(d.value?"":m.value)),S=M(()=>e.hideSelected&&R.value===null?oe.value.filter(t=>!f.value.some(s=>s.value===t.value)):oe.value),ie=O(()=>e.closableChips&&!B.isReadonly.value&&!B.isDisabled.value),W=M(()=>!!(e.chips||l.chip)),J=M(()=>W.value||!!l.selection),ce=M(()=>f.value.map(t=>t.props.value)),Z=M(()=>S.value.find(t=>t.type==="item"&&!t.props.disabled)),be=M(()=>{var s;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&m.value===((s=Z.value)==null?void 0:s.title))&&S.value.length>0&&!d.value&&!u.value}),de=M(()=>e.hideNoData&&!S.value.length||B.isReadonly.value||B.isDisabled.value),te=ge(e,"menu"),E=M({get:()=>te.value,set:t=>{var s;te.value&&!t&&((s=c.value)!=null&&s.ΨopenChildren.size)||t&&de.value||(te.value=t)}}),{menuId:ke,ariaExpanded:pe,ariaControls:y}=Cl(e,E),D=re(),U=kl(D,n);function Q(t){e.openOnClear&&(E.value=!0),m.value=""}function ye(){de.value||(E.value=!0)}function i(t){de.value||(v.value&&(t.preventDefault(),t.stopPropagation()),E.value=!E.value)}function C(t){var s;(Be(t)||t.key==="Backspace")&&((s=n.value)==null||s.focus())}function $(t){var K,j,T,H,le;if(B.isReadonly.value)return;const s=(K=n.value)==null?void 0:K.selectionStart,h=f.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(E.value=!0),["Escape"].includes(t.key)&&(E.value=!1),be.value&&["Enter","Tab"].includes(t.key)&&Z.value&&!f.value.some(N=>{let{value:F}=N;return F===Z.value.value})&&Y(Z.value),t.key==="ArrowDown"&&be.value&&((j=D.value)==null||j.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&J.value&&f.value.length>0&&!m.value)return Y(f.value[0],!1);if(~o.value){t.preventDefault();const N=o.value;Y(f.value[o.value],!1),o.value=N>=h-1?h-2:N}else t.key==="Backspace"&&!m.value&&(o.value=h-1);return}if(e.multiple)if(t.key==="ArrowLeft"){if(o.value<0&&s&&s>0)return;const N=o.value>-1?o.value-1:h-1;if(f.value[N])o.value=N;else{const F=((T=m.value)==null?void 0:T.length)??null;o.value=-1,(H=n.value)==null||H.setSelectionRange(F,F)}}else if(t.key==="ArrowRight"){if(o.value<0)return;const N=o.value+1;f.value[N]?o.value=N:(o.value=-1,(le=n.value)==null||le.setSelectionRange(0,0))}else~o.value&&Be(t)&&(o.value=-1)}function ve(t){if(Fe(n.value,":autofill")||Fe(n.value,":-webkit-autofill")){const s=x.value.find(h=>h.title===t.target.value);s&&Y(s)}}function fe(){var t;e.eager&&((t=g.value)==null||t.calculateVisibleItems())}function X(){var t;v.value&&(d.value=!0,(t=n.value)==null||t.focus()),R.value=null}function me(t){v.value=!0,setTimeout(()=>{u.value=!0})}function P(t){u.value=!1}function ee(t){(t==null||t===""&&!e.multiple&&!J.value)&&(f.value=[])}const q=z(!1);function Y(t){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){const h=f.value.findIndex(j=>(e.valueComparator||Ie)(j.value,t.value)),K=s??!~h;if(~h){const j=K?[...f.value,t]:[...f.value];j.splice(h,1),f.value=j}else K&&(f.value=[...f.value,t]);e.clearOnSelect&&(m.value="")}else{const h=s!==!1;f.value=h?[t]:[],R.value=d.value?"":m.value??"",m.value=h&&!J.value?t.title:"",Pe(()=>{E.value=!1,d.value=!0})}}return se(v,(t,s)=>{var h;t!==s&&(t?(q.value=!0,m.value=e.multiple||J.value?"":String(((h=f.value.at(-1))==null?void 0:h.props.title)??""),d.value=!0,Pe(()=>q.value=!1)):(!e.multiple&&m.value==null&&(f.value=[]),E.value=!1,!d.value&&m.value&&(R.value=m.value),m.value="",o.value=-1))}),se(m,t=>{!v.value||q.value||(t&&(E.value=!0),d.value=!t)}),se(E,t=>{if(!e.hideSelected&&t&&f.value.length&&d.value){const s=S.value.findIndex(h=>f.value.some(K=>h.value===K.value));Ge&&window.requestAnimationFrame(()=>{var h;s>=0&&((h=g.value)==null||h.scrollToIndex(s))})}t&&(R.value=null)}),se(x,(t,s)=>{E.value||v.value&&!s.length&&t.length&&(E.value=!0)}),we(()=>{const t=!!(!e.hideNoData||S.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),s=f.value.length>0,h=Me.filterProps(e);return b(Me,L({ref:n},h,{modelValue:m.value,"onUpdate:modelValue":[K=>m.value=K,ee],focused:v.value,"onUpdate:focused":K=>v.value=K,validationValue:f.externalValue,counterValue:G.value,dirty:s,onChange:ve,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":E.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!J.value,"v-autocomplete--selecting-index":o.value>-1},e.class],style:e.style,readonly:B.isReadonly.value,placeholder:s?void 0:e.placeholder,"onClick:clear":Q,"onMousedown:control":ye,onKeydown:$,"aria-expanded":pe.value,"aria-controls":y.value}),{...l,default:K=>{let{id:j}=K;return w(he,null,[b(il,L({id:ke.value,ref:c,modelValue:E.value,"onUpdate:modelValue":T=>E.value=T,activator:"parent",contentClass:"v-autocomplete__content",disabled:de.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:fe,onAfterLeave:X},e.menuProps),{default:()=>[t&&b(vl,L({ref:D,filterable:!0,selected:ce.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onKeydown:C,onFocusin:me,onFocusout:P,tabindex:"-1",selectable:!!S.value.length,"aria-live":"polite","aria-labelledby":`${j.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},U,e.listProps),{default:()=>{var T,H,le;return[(T=l["prepend-item"])==null?void 0:T.call(l),!S.value.length&&!e.hideNoData&&(((H=l["no-data"])==null?void 0:H.call(l))??b(_e,{key:"no-data",title:a(e.noDataText)},null)),b(Vl,{ref:g,renderless:!0,items:S.value,itemKey:"value"},{default:N=>{var Qe,Xe,qe;let{item:F,index:ae,itemRef:ne}=N;const We=L(F.props,{ref:ne,key:F.value,active:be.value&&F===Z.value?!0:void 0,onClick:()=>Y(F,null),"aria-posinset":ae+1,"aria-setsize":S.value.length});return F.type==="divider"?((Qe=l.divider)==null?void 0:Qe.call(l,{props:F.raw,index:ae}))??b(ml,L(F.props,{key:`divider-${ae}`}),null):F.type==="subheader"?((Xe=l.subheader)==null?void 0:Xe.call(l,{props:F.raw,index:ae}))??b(fl,L(F.props,{key:`subheader-${ae}`}),null):((qe=l.item)==null?void 0:qe.call(l,{item:F,index:ae,props:We}))??b(_e,L(We,{role:"option"}),{prepend:Ae=>{let{isSelected:wl}=Ae;return w(he,null,[e.multiple&&!e.hideSelected?b(pl,{key:F.value,modelValue:wl,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:Il=>Il.preventDefault()},null):void 0,F.props.prependAvatar&&b(hl,{image:F.props.prependAvatar},null),F.props.prependIcon&&b(xe,{icon:F.props.prependIcon},null)])},title:()=>{var Ae;return d.value?F.title:mt("v-autocomplete",F.title,(Ae=_(F))==null?void 0:Ae.title)}})}}),(le=l["append-item"])==null?void 0:le.call(l)]}})]}),f.value.map((T,H)=>{function le(ne){ne.stopPropagation(),ne.preventDefault(),Y(T,!1)}const N=L(Oe.filterProps(T.props),{"onClick:close":le,onKeydown(ne){ne.key!=="Enter"&&ne.key!==" "||(ne.preventDefault(),ne.stopPropagation(),le(ne))},onMousedown(ne){ne.preventDefault(),ne.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),F=W.value?!!l.chip:!!l.selection,ae=F?rl(W.value?l.chip({item:T,index:H,props:N}):l.selection({item:T,index:H})):void 0;if(!(F&&!ae))return w("div",{key:T.value,class:Ve(["v-autocomplete__selection",H===o.value&&["v-autocomplete__selection--selected",V.value]]),style:Ee(H===o.value?k.value:{})},[W.value?l.chip?b(sl,{key:"chip-defaults",defaults:{VChip:{closable:ie.value,size:"small",text:T.title}}},{default:()=>[ae]}):b(Oe,L({key:"chip",closable:ie.value,size:"small",text:T.title,disabled:T.props.disabled},N),null):ae??w("span",{class:"v-autocomplete__selection-text"},[T.title,e.multiple&&H<f.value.length-1&&w("span",{class:"v-autocomplete__selection-comma"},[cl(",")])])])})])},"append-inner":function(){var H,le;for(var K=arguments.length,j=new Array(K),T=0;T<K;T++)j[T]=arguments[T];return w(he,null,[(H=l["append-inner"])==null?void 0:H.call(l,...j),e.menuIcon?b(xe,{class:"v-autocomplete__menu-icon",color:(le=n.value)==null?void 0:le.fieldIconColor,icon:e.menuIcon,onMousedown:i,onClick:Xl,"aria-hidden":!0,tabindex:"-1"},null):void 0,e.appendInnerIcon&&b(A,{key:"append-icon",name:"appendInner",color:j[0].iconColor.value},null)])}})}),ul({isFocused:v,isPristine:d,menu:E,search:m,filteredItems:oe,select:Y},n)}});export{Vt as V,kt as a,pl as b,Je as c,bl as d,Zl as m};
