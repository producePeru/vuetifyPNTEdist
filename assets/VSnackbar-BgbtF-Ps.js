import{u as Re,d as Ke,m as Oe,e as Ee,f as ie,g as Be,h as Ne,i as je,j as Ue}from"./VSelect-CjINzp-V.js";import{B as me,C as ue,D as R,c as _,u as Q,E as he,G as ae,H as $e,f as I,I as W,F as J,J as ge,K as ze,r as j,L as He,M as X,N as Ye,O as $,P as ne,Q as Ge,R as ye,V as re,e as C,p as B,S as ke,T as Qe,U as Ve,W as We,X as ce,Y as ve,Z as Je,j as fe,$ as Xe,a0 as Ze,a1 as qe,q as et,a2 as be,k as tt,a3 as lt,a4 as at,a5 as nt,a6 as ut,a7 as ot,a8 as st,l as it,a9 as rt,aa as ct,ab as vt,ac as ft,ad as dt,ae as mt,af as ht,ag as gt,s as de,ah as yt,ai as kt}from"./index-DPhP9zP0.js";const Se=Symbol.for("vuetify:layout");function Vt(){const e=me(Se);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}const bt=(e,n,t)=>{if(e==null||n==null)return-1;if(!n.length)return 0;e=e.toString().toLocaleLowerCase(),n=n.toString().toLocaleLowerCase();const u=[];let s=e.indexOf(n);for(;~s;)u.push([s,s+n.length]),s=e.indexOf(n,s+n.length);return u.length?u:-1};function le(e,n){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+n.length]]:Array.isArray(e[0])?e:[e]}const St=ue({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function wt(e,n,t){var M;const u=[],s=(t==null?void 0:t.default)??bt,d=t!=null&&t.filterKeys?ae(t.filterKeys):!1,v=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return u;e:for(let k=0;k<e.length;k++){const[w,i=w]=ae(e[k]),x={},T={};let b=-1;if((n||v>0)&&!(t!=null&&t.noFilter)){if(typeof w=="object"){const f=d||Object.keys(i);for(const a of f){const O=$e(i,a),F=(M=t==null?void 0:t.customKeyFilter)==null?void 0:M[a];if(b=F?F(O,n,w):s(O,n,w),b!==-1&&b!==!1)F?x[a]=le(b,n):T[a]=le(b,n);else if((t==null?void 0:t.filterMode)==="every")continue e}}else b=s(w,n,w),b!==-1&&b!==!1&&(T.title=le(b,n));const A=Object.keys(T).length,p=Object.keys(x).length;if(!A&&!p||(t==null?void 0:t.filterMode)==="union"&&p!==v&&!A||(t==null?void 0:t.filterMode)==="intersection"&&(p!==v||!A))continue}u.push({index:k,matches:{...T,...x}})}return u}function Ct(e,n,t,u){const s=R([]),d=R(new Map),v=_(()=>Q(n));he(()=>{const k=typeof t=="function"?t():Q(t),w=typeof k!="string"&&typeof k!="number"?"":String(k),i=wt(v.value,w,{customKeyFilter:{...e.customKeyFilter,...Q(u==null?void 0:u.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),x=Q(n),T=[],b=new Map;i.forEach(A=>{let{index:p,matches:f}=A;const a=x[p];T.push(a),b.set(a.value,f)}),s.value=T,d.value=b});function M(k){return d.value.get(k.value)}return{filteredItems:s,filteredMatches:d,getMatches:M}}function xt(e,n,t){return t==null||!t.length?n:t.map((u,s)=>{const d=s===0?0:t[s-1][1],v=[I("span",{class:W(`${e}__unmask`)},[n.slice(d,u[0])]),I("span",{class:W(`${e}__mask`)},[n.slice(u[0],u[1])])];return s===t.length-1&&v.push(I("span",{class:W(`${e}__unmask`)},[n.slice(u[1])])),I(J,null,[v])})}const Ft=ue({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...St({filterKeys:["title"]}),...Oe(),...Ve(We({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Qe({transition:!1})},"VAutocomplete"),At=ge()({name:"VAutocomplete",props:Ft(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,n){let{slots:t}=n;const{t:u}=ze(),s=j(),d=R(!1),v=R(!0),M=R(!1),k=j(),w=j(),i=R(-1),{items:x,transformIn:T,transformOut:b}=Re(e),{textColorClasses:A,textColorStyles:p}=He(()=>{var l;return(l=s.value)==null?void 0:l.color}),f=X(e,"search",""),a=X(e,"modelValue",[],l=>T(l===null?[null]:ae(l)),l=>{const o=b(l);return e.multiple?o:o[0]??null}),O=_(()=>typeof e.counterValue=="function"?e.counterValue(a.value):typeof e.counterValue=="number"?e.counterValue:a.value.length),F=Ye(e),{filteredItems:z,getMatches:Z}=Ct(e,x,()=>v.value?"":f.value),L=_(()=>e.hideSelected?z.value.filter(l=>!a.value.some(o=>o.value===l.value)):z.value),U=_(()=>!!(e.chips||t.chip)),E=_(()=>U.value||!!t.selection),q=_(()=>a.value.map(l=>l.props.value)),H=_(()=>{var o;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&f.value===((o=L.value[0])==null?void 0:o.title))&&L.value.length>0&&!v.value&&!M.value}),g=_(()=>e.hideNoData&&!L.value.length||F.isReadonly.value||F.isDisabled.value),K=X(e,"menu"),c=_({get:()=>K.value,set:l=>{var o;K.value&&!l&&((o=k.value)!=null&&o.Î¨openChildren.size)||l&&g.value||(K.value=l)}}),Y=_(()=>c.value?e.closeText:e.openText),ee=j(),we=Ke(ee,s);function Ce(l){e.openOnClear&&(c.value=!0),f.value=""}function xe(){g.value||(c.value=!0)}function Fe(l){g.value||(d.value&&(l.preventDefault(),l.stopPropagation()),c.value=!c.value)}function Pe(l){var o;l.key!==" "&&ce(l)&&((o=s.value)==null||o.focus())}function Ie(l){var r,y,P,D,m;if(F.isReadonly.value)return;const o=(r=s.value)==null?void 0:r.selectionStart,h=a.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"].includes(l.key)&&(c.value=!0),["Escape"].includes(l.key)&&(c.value=!1),H.value&&["Enter","Tab"].includes(l.key)&&!a.value.some(S=>{let{value:V}=S;return V===L.value[0].value})&&N(L.value[0]),l.key==="ArrowDown"&&H.value&&((y=ee.value)==null||y.focus("next")),["Backspace","Delete"].includes(l.key)){if(!e.multiple&&E.value&&a.value.length>0&&!f.value)return N(a.value[0],!1);if(~i.value){l.preventDefault();const S=i.value;N(a.value[i.value],!1),i.value=S>=h-1?h-2:S}else l.key==="Backspace"&&!f.value&&(i.value=h-1);return}if(e.multiple)if(l.key==="ArrowLeft"){if(i.value<0&&o&&o>0)return;const S=i.value>-1?i.value-1:h-1;if(a.value[S])i.value=S;else{const V=((P=f.value)==null?void 0:P.length)??null;i.value=-1,(D=s.value)==null||D.setSelectionRange(V,V)}}else if(l.key==="ArrowRight"){if(i.value<0)return;const S=i.value+1;a.value[S]?i.value=S:(i.value=-1,(m=s.value)==null||m.setSelectionRange(0,0))}else~i.value&&ce(l)&&(i.value=-1)}function Me(l){if(ve(s.value,":autofill")||ve(s.value,":-webkit-autofill")){const o=x.value.find(h=>h.title===l.target.value);o&&N(o)}}function Te(){var l;e.eager&&((l=w.value)==null||l.calculateVisibleItems())}function Ae(){var l;d.value&&(v.value=!0,(l=s.value)==null||l.focus())}function Le(l){d.value=!0,setTimeout(()=>{M.value=!0})}function _e(l){M.value=!1}function pe(l){(l==null||l===""&&!e.multiple&&!E.value)&&(a.value=[])}const te=R(!1);function N(l){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!l||l.props.disabled))if(e.multiple){const h=a.value.findIndex(y=>(e.valueComparator||Je)(y.value,l.value)),r=o??!~h;if(~h){const y=r?[...a.value,l]:[...a.value];y.splice(h,1),a.value=y}else r&&(a.value=[...a.value,l]);e.clearOnSelect&&(f.value="")}else{const h=o!==!1;a.value=h?[l]:[],f.value=h&&!E.value?l.title:"",ne(()=>{c.value=!1,v.value=!0})}}return $(d,(l,o)=>{var h;l!==o&&(l?(te.value=!0,f.value=e.multiple||E.value?"":String(((h=a.value.at(-1))==null?void 0:h.props.title)??""),v.value=!0,ne(()=>te.value=!1)):(!e.multiple&&f.value==null&&(a.value=[]),c.value=!1,(e.multiple||E.value)&&(f.value=""),i.value=-1))}),$(f,l=>{!d.value||te.value||(l&&(c.value=!0),v.value=!l)}),$(c,()=>{if(!e.hideSelected&&c.value&&a.value.length){const l=L.value.findIndex(o=>a.value.some(h=>o.value===h.value));Ge&&window.requestAnimationFrame(()=>{var o;l>=0&&((o=w.value)==null||o.scrollToIndex(l))})}}),$(()=>e.items,(l,o)=>{c.value||d.value&&!o.length&&l.length&&(c.value=!0)}),ye(()=>{const l=!!(!e.hideNoData||L.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),o=a.value.length>0,h=re.filterProps(e);return C(re,B({ref:s},h,{modelValue:f.value,"onUpdate:modelValue":[r=>f.value=r,pe],focused:d.value,"onUpdate:focused":r=>d.value=r,validationValue:a.externalValue,counterValue:O.value,dirty:o,onChange:Me,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":c.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!E.value,"v-autocomplete--selecting-index":i.value>-1},e.class],style:e.style,readonly:F.isReadonly.value,placeholder:o?void 0:e.placeholder,"onClick:clear":Ce,"onMousedown:control":xe,onKeydown:Ie}),{...t,default:()=>I(J,null,[C(Ze,B({ref:k,modelValue:c.value,"onUpdate:modelValue":r=>c.value=r,activator:"parent",contentClass:"v-autocomplete__content",disabled:g.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Te,onAfterLeave:Ae},e.menuProps),{default:()=>[l&&C(Ee,B({ref:ee,selected:q.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:r=>r.preventDefault(),onKeydown:Pe,onFocusin:Le,onFocusout:_e,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},we,e.listProps),{default:()=>{var r,y,P;return[(r=t["prepend-item"])==null?void 0:r.call(t),!L.value.length&&!e.hideNoData&&(((y=t["no-data"])==null?void 0:y.call(t))??C(ie,{key:"no-data",title:u(e.noDataText)},null)),C(Be,{ref:w,renderless:!0,items:L.value,itemKey:"value"},{default:D=>{var se;let{item:m,index:S,itemRef:V}=D;const oe=B(m.props,{ref:V,key:m.value,active:H.value&&S===0?!0:void 0,onClick:()=>N(m,null)});return((se=t.item)==null?void 0:se.call(t,{item:m,index:S,props:oe}))??C(ie,B(oe,{role:"option"}),{prepend:G=>{let{isSelected:De}=G;return I(J,null,[e.multiple&&!e.hideSelected?C(Ne,{key:m.value,modelValue:De,ripple:!1,tabindex:"-1"},null):void 0,m.props.prependAvatar&&C(je,{image:m.props.prependAvatar},null),m.props.prependIcon&&C(fe,{icon:m.props.prependIcon},null)])},title:()=>{var G;return v.value?m.title:xt("v-autocomplete",m.title,(G=Z(m))==null?void 0:G.title)}})}}),(P=t["append-item"])==null?void 0:P.call(t)]}})]}),a.value.map((r,y)=>{function P(V){V.stopPropagation(),V.preventDefault(),N(r,!1)}const D={"onClick:close":P,onKeydown(V){V.key!=="Enter"&&V.key!==" "||(V.preventDefault(),V.stopPropagation(),P(V))},onMousedown(V){V.preventDefault(),V.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},m=U.value?!!t.chip:!!t.selection,S=m?qe(U.value?t.chip({item:r,index:y,props:D}):t.selection({item:r,index:y})):void 0;if(!(m&&!S))return I("div",{key:r.value,class:W(["v-autocomplete__selection",y===i.value&&["v-autocomplete__selection--selected",A.value]]),style:et(y===i.value?p.value:{})},[U.value?t.chip?C(be,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:r.title}}},{default:()=>[S]}):C(Ue,B({key:"chip",closable:e.closableChips,size:"small",text:r.title,disabled:r.props.disabled},D),null):S??I("span",{class:"v-autocomplete__selection-text"},[r.title,e.multiple&&y<a.value.length-1&&I("span",{class:"v-autocomplete__selection-comma"},[tt(",")])])])})]),"append-inner":function(){var D,m;for(var r=arguments.length,y=new Array(r),P=0;P<r;P++)y[P]=arguments[P];return I(J,null,[(D=t["append-inner"])==null?void 0:D.call(t,...y),e.menuIcon?C(fe,{class:"v-autocomplete__menu-icon",color:(m=s.value)==null?void 0:m.fieldIconColor,icon:e.menuIcon,onMousedown:Fe,onClick:Xe,"aria-label":u(Y.value),title:u(Y.value),tabindex:"-1"},null):void 0])}})}),ke({isFocused:d,isPristine:v,menu:c,search:f,filteredItems:z,select:N},s)}});function Pt(e){const n=R(e());let t=-1;function u(){clearInterval(t)}function s(){u(),ne(()=>n.value=e())}function d(v){const M=v?getComputedStyle(v):{transitionDuration:.2},k=parseFloat(M.transitionDuration)*1e3||200;if(u(),n.value<=0)return;const w=performance.now();t=window.setInterval(()=>{const i=performance.now()-w+k;n.value=Math.max(e()-i,0),n.value<=0&&u()},k)}return gt(u),{clear:u,time:n,start:d,reset:s}}const It=ue({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...mt({location:"bottom"}),...dt(),...ft(),...vt(),...ct(),...Ve(ht({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Lt=ge()({name:"VSnackbar",props:It(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const u=X(e,"modelValue"),{positionClasses:s}=lt(e),{scopeId:d}=at(),{themeClasses:v}=nt(e),{colorClasses:M,colorStyles:k,variantClasses:w}=ut(e),{roundedClasses:i}=ot(e),x=Pt(()=>Number(e.timeout)),T=j(),b=j(),A=R(!1),p=R(0),f=j(),a=me(Se,void 0);st(()=>!!a,()=>{const g=Vt();he(()=>{f.value=g.mainStyles.value})}),$(u,F),$(()=>e.timeout,F),it(()=>{u.value&&F()});let O=-1;function F(){x.reset(),window.clearTimeout(O);const g=Number(e.timeout);if(!u.value||g===-1)return;const K=rt(b.value);x.start(K),O=window.setTimeout(()=>{u.value=!1},g)}function z(){x.reset(),window.clearTimeout(O)}function Z(){A.value=!0,z()}function L(){A.value=!1,F()}function U(g){p.value=g.touches[0].clientY}function E(g){Math.abs(p.value-g.changedTouches[0].clientY)>50&&(u.value=!1)}function q(){A.value&&L()}const H=_(()=>e.location.split(" ").reduce((g,K)=>(g[`v-snackbar--${K}`]=!0,g),{}));return ye(()=>{const g=de.filterProps(e),K=!!(t.default||t.text||e.text);return C(de,B({ref:T,class:["v-snackbar",{"v-snackbar--active":u.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},H.value,s.value,e.class],style:[f.value,e.style]},g,{modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,contentProps:B({class:["v-snackbar__wrapper",v.value,M.value,i.value,w.value],style:[k.value],onPointerenter:Z,onPointerleave:L},g.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:U,onTouchend:E,onAfterLeave:q},d),{default:()=>{var c,Y;return[yt(!1,"v-snackbar"),e.timer&&!A.value&&I("div",{key:"timer",class:"v-snackbar__timer"},[C(kt,{ref:b,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":x.time.value},null)]),K&&I("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((c=t.text)==null?void 0:c.call(t))??e.text,(Y=t.default)==null?void 0:Y.call(t)]),t.actions&&C(be,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[I("div",{class:"v-snackbar__actions"},[t.actions({isActive:u})])]})]},activator:t.activator})}),ke({},T)}});export{Lt as V,At as a};
