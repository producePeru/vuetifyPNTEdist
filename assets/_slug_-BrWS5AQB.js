import{u as re}from"./usePageMeta-U4jqMx8a.js";import{h as v}from"./httpRequest-D3KC4pOG.js";import{c as E,b as f,e as r,f as q,l as g,w as d,d as C,q as se,t as P,h as k,r as b,i as A,j as ne,u as de,k as F,v as ue,o as R,D as ce,p as x,_ as me,m as pe,n as fe}from"./index-Bm205PpH.js";import{_ as be}from"./EventFinalized-DNtar2GT.js";import{d as ye}from"./dayjs.min-BaPeHrhp.js";import"./es-nefKSrI6.js";import{V,a as D}from"./VRow-CSKjrWp-.js";import{V as z}from"./VAvatar-rxz4KX7R.js";import{_ as _e}from"./verificacion-DI9pvaX9.js";import{_ as ve}from"./FormComponent-DseU9UPF.js";import{_ as ge}from"./ModalRegistered-BkJMyXoF.js";import{u as he}from"./useFormOptions-BD_ZbAMu.js";import{V as qe}from"./VSnackbar-CxG_081E.js";import{V as M,b as we}from"./VCard-_9eWJexq.js";import{V as Se}from"./VDialog-CLO38SzX.js";import{S as Ce}from"./SedPresentation-C0oulVoE.js";import{V as Ee}from"./VContainer-N7bB_5Au.js";/* empty css                                                       */import"./index-IFZht6pV.js";import"./VSelect-wlhg_9ya.js";import"./VList-BLxjK_bF.js";import"./VForm-Dh-ve5De.js";/* empty css                                                                        */const ke="/assets/logo-cyber-wow-BrS22BGw.png",xe={__name:"CyberWowHeader",props:{color:{type:String,default:"#f5105f"},info:{type:Object,required:!0,default:()=>({})},slideActive:{type:Number,default:1}},setup(h){return ye.locale("es"),(e,u)=>(f(),E("section",null,[r(D,{justify:"center",align:"center",class:"h-100"},{default:d(()=>[r(V,{cols:"auto",class:"p-0"},{default:d(()=>[r(z,{width:200,src:ke})]),_:1})]),_:1}),h.info?(f(),q(D,{key:0},{default:d(()=>[r(V,{cols:"12",class:"text-center pt-0"},{default:d(()=>{var n;return[C("h1",{class:"title",style:se({color:h.color})},P((n=h.info)==null?void 0:n.title),5)]}),_:1})]),_:1})):g("",!0)]))}},Ve={class:"custom-form"},De={class:"text-center"},Ne={style:{"text-align":"center",margin:"auto"}},Te={__name:"CyberWowForm",setup(h){const e=k({socials:[{name:"Facebook",link:""},{name:"TikTok",link:""},{name:"Instagram",link:""},{name:"Web",link:""}]}),u=b(!1),n=k({}),y=A(),w=ne(),c=b(!1),p=b(1),_=b(!1);x("formState",e),x("loadingStates",n),x("loadingSubmit",c);const s=k([{type:"title",label:"Datos de la Empresa",md:12},{type:"search",label:"Número de RUC",model:"ruc",required:!0,max:11,disabled:!1},{type:"text",label:"Razón Social",model:"razonSocial",required:!0,disabled:!1},{type:"text",label:"Nombre Comercial (marca)",model:"nombreComercial",required:!0},{type:"select",label:"Región",model:"city_id",required:!0,options:[],disabled:!1},{type:"select",label:"Provincia",model:"province_id",required:!0,options:[],disabled:!1},{type:"select",label:"Distrito",model:"district_id",required:!0,options:[],disabled:!1},{type:"text",label:"Dirección",model:"direccion",required:!0,disabled:!1},{type:"select",label:"Sector Económico",model:"economicsector_id",required:!0,options:[],disabled:!1},{type:"select",label:"Rubro",model:"rubro_id",required:!0,options:[],disabled:!1},{type:"select",label:"Actividad Comercial",model:"comercialactivity_id",required:!0,options:[],disabled:!1},{type:"textarea",label:"Breve descripción de tu empresa y productos",model:"descripcion",required:!0,md:12,rows:3},{type:"redes",label:"Redes Sociales",model:"socials",md:12,required:!1},{type:"title",label:"Datos de contacto/representante",md:12},{type:"select",label:"Tipo de documento",model:"typedocument_id",required:!0,options:[]},{type:"search",label:"Número de Documento",model:"documentnumber",required:!0,max:8,disabled:!1},{type:"text",label:"Apellido Paterno",model:"lastname",required:!0,disabled:!0},{type:"text",label:"Apellido Materno",model:"middlename",required:!0,disabled:!0},{type:"text",label:"Nombres",model:"name",required:!0,disabled:!0},{type:"select",label:"Género",model:"gender_id",required:!0,options:[]},{type:"select",label:"¿Tiene alguna discapacidad?",model:"sick",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}]},{type:"number",label:"Número de celular",model:"phone",required:!0,max:9,minLength:9},{type:"email",label:"Correo electrónico",model:"email",required:!0},{type:"date",label:"Fecha de nacimiento",model:"birthday",required:!0},{type:"number",label:"Edad",model:"age",required:!0,max:2,minLength:2},{type:"select",label:"País de origen",model:"country_id",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}]},{type:"text",label:"Cargo en la empresa",model:"cargo",required:!0},{type:"title",label:"Diagnóstico digital",md:12},{type:"select",label:"Pagos con tarjeta vía POS (cr/deb)",model:"question_1",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}],md:12},{type:"select",label:"Acepta pagos con Yape, Plin y otros",model:"question_2",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}],md:12},{type:"select",label:"Ventas en tiendas virtuales (web, RRSS)",model:"question_3",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}],md:12},{type:"select",label:"Ofrece servicio de delivery",model:"question_4",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}],md:12},{type:"select",label:"Emite comprobantes electrónicos",model:"question_5",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}],md:12},{type:"select",label:"¿Formalizado con el Programa Tu Empresa?",model:"question_6",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}],md:12},{type:"select",label:"Marca registrada en INDECOPI",model:"question_7",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}],md:12},{type:"title",label:"Detalles",md:12},{type:"select",label:"¿Cómo se enteró del evento?",model:"howKnowEvent_id",required:!0,options:[]},{type:"checkbox",label:"Autorizo la participación y el uso de mis datos personales e imagen para fines institucionales del Programa Tu Empresa, según la Ley N.º 29733",model:"autorization",required:!0,md:12,rows:3}]),a=b({visible:!1,message:"",color:"error"}),I=de(),O=b(!1);F(O,t=>{I.global.name.value=t?"dark":"light"}),F(()=>e.birthday,t=>{t?e.age=`${j(t)}`:e.age=null});function j(t){const[o,l,i]=t.split("/").map(Number);if(!o||!l||!i)return null;const m=new Date(i,l-1,o),S=new Date;let $=S.getFullYear()-m.getFullYear();return S.getMonth()>m.getMonth()||S.getMonth()===m.getMonth()&&S.getDate()>=m.getDate()||$--,$}const B=()=>{e.documentnumber=null,e.lastname=null,e.middlename=null,e.name=null,e.gender_id=null,e.sick=null,e.phone=null,e.email=null,e.age=null},G=(t=!0)=>{["ruc","razonSocial","comercialName","typeContribuyente_id","economicsector_id","rubro_id","comercialactivity_id","city_id","province_id","district_id","address"].forEach(l=>{const i=s.find(m=>m.model===l);i&&(i.disabled=t)})},U=t=>{const o=s.find(l=>l.model===t);p.value==1&&t=="ruc"&&(e.ruc=null,e.razonSocial=null,o.disabled=!o.disabled),t=="documentnumber"&&(e.typedocument_id=null,e.documentnumber=null,e.name=null,e.lastname=null,e.middlename=null)},N=()=>{console.log("tyiotoototot"),["name","lastname","middlename"].forEach(t=>{const o=s.find(l=>l.model===t);o&&(o.disabled=!1)})},L=()=>{["name","lastname","middlename"].forEach(t=>{const o=s.find(l=>l.model===t);o&&(o.disabled=!0)})},W=async(t,o)=>{if(t.model=="typedocument_id"){const l=s.find(i=>i.model==="documentnumber");l.disabled=!1,B()}if(t.model=="rubro_id"){e.comercialactivity_id=null;const l=await v({url:`select/activity-by-rubro/${t.value}`,method:"GET"}),i=s.find(m=>m.model==="comercialactivity_id");i.options=l.data}if(t.model=="city_id"){e.province_id=null,e.district_id=null;const l=`select/provinces/${t.value}`;T(l,"province_id")}if(t.model=="province_id"){e.district_id=null;const l=`select/districts/${t.value}`;T(l,"district_id")}if(t.model=="typedocument_id"){const l=s.find(i=>i.model==="documentnumber");t.value==1?(l.max=8,L()):(l.max=9,N())}},Y=async(t,o)=>{if(t=="ruc")return H();if(t=="documentnumber")return K()},H=async()=>{try{const t=await v({url:`api/consult-company-ruc/${e.ruc}`,method:"POST"});if(t.status==200){const{data:o}=t;e.razonSocial=o.socialReason,e.direccion=o.address,n.ruc=!1}else t.status==404&&(a.value.visible=!0,a.value.color="warning",a.value.message="⚠️ No pudimos encontrar información con este RUC. Ingrésala manualmente.",n.ruc=!1,["razonSocial"].forEach(o=>{const l=s.find(i=>i.model===o);l&&(l.disabled=!1)}))}catch(t){console.log("Error: ",t)}},K=async()=>{try{const t=await v({url:`api/consult-businessman-dni/${e.documentnumber}`,method:"POST"});if(t.status==200){const{data:o}=t;e.lastname=o.lastname,e.middlename=o.middlename,e.name=o.name,e.gender_id=o.gender_id,e.phone=o.phone,n.documentnumber=!1}else t.status==404?(a.value.visible=!0,a.value.color="warning",a.value.message="⚠️ No pudimos encontrar información con este DNI. Ingrésala manualmente.",n.documentnumber=!1,["lastname","middlename","name"].forEach(o=>{const l=s.find(i=>i.model===o);l&&(l.disabled=!1)})):console.log("Error: ",t)}catch{return n.documentnumber=!1,N()}},J=async()=>{if(!X.value){a.value.visible=!0,a.value.color="error",a.value.message="⚠️ Debes registrar al menos una red social.",c.value=!1,window.scrollTo({top:300,behavior:"smooth"});return}c.value=!0;const t={ruc:e.ruc,razonSocial:e.razonSocial,nombreComercial:e.nombreComercial,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,direccion:e.direccion,economicsector_id:e.economicsector_id,rubro_id:e.rubro_id,comercialactivity_id:e.comercialactivity_id,descripcion:e.descripcion,socials:e.socials,typedocument_id:e.typedocument_id,documentnumber:e.documentnumber,lastname:e.lastname,middlename:e.middlename,name:e.name,gender_id:e.gender_id,sick:e.sick,phone:e.phone,email:e.email,birthday:e.birthday,age:e.age,country_id:e.country_id,cargo:e.cargo,question_1:e.question_1,question_2:e.question_2,question_3:e.question_3,question_4:e.question_4,question_5:e.question_5,question_6:e.question_6,question_7:e.question_7,howKnowEvent_id:e.howKnowEvent_id,autorization:e.autorization,slug_id:y.params.slug};try{const o=await v({url:"public/register-cyber-wow",method:"POST",data:t});o.status===200?w.push(`/registrado/${y.params.slug}`):o.status===409?_.value=!0:console.log("error")}catch(o){c.value=!1,console.log("Error: ",o),a.value.visible=!0,a.value.color="error",a.value.message="⚠️ Agrega tus redes sociales.",window.scrollTo({top:300,behavior:"smooth"}),a.value=!0}finally{c.value=!1}},Q=t=>{if(t)e.typedocument_id=null,e.documentnumber=null,e.lastname=null,e.middlename=null,e.name=null,e.gender_id=null,e.sick=null,e.phone=null,e.email=null,e.age=null,p.value=2,G(!0),u.value=!1,ce(()=>{const o=document.querySelector('[data-model="typedocument_id"]');o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.focus())});else return w.push(`/registrado/${y.params.slug}`)},T=async(t,o)=>{try{const l=await v({url:t,method:"GET"}),i=s.find(m=>m.model===o);i&&l.data&&(i.options=l.data)}catch(l){console.error("Error de red:",l)}},X=ue(()=>e.socials.some(t=>(t.link??"").trim().length>0)),{loadSectorEconomico:Z,loadRubros:ee,loadCity:te,loadTypeDocuments:oe,loadGenders:le,loadPropagandaMedia:ae,loadCountries:ie}=he(s);return R(async()=>{await Z(),await ee(),await te(),await oe(),await le(),await ae(),await ie(),e.country_id=155}),(t,o)=>(f(),E("div",Ve,[r(ve,{colorForm:"#f5105f",fields:s,onSearchDataApi:Y,onSubmit:J,onChange:W,onHandleClearSearch:U},null,8,["fields"]),r(qe,{modelValue:a.value.visible,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value.visible=l),color:a.value.color,top:"",right:""},{default:d(()=>[C("p",De,P(a.value.message),1)]),_:1},8,["modelValue","color"]),r(ge,{dialog:u.value,"onUpdate:dialog":o[1]||(o[1]=l=>u.value=l),onDialogChange:Q},null,8,["dialog"]),r(Se,{transition:"dialog-bottom-transition",modelValue:_.value,"onUpdate:modelValue":o[2]||(o[2]=l=>_.value=l),"max-width":"340"},{default:d(()=>[r(M,null,{default:d(()=>[r(we,null,{default:d(()=>[C("div",Ne,[r(z,{width:60,src:_e,style:{margin:"auto"}}),o[3]||(o[3]=C("span",{style:{display:"block","margin-top":"1rem"}},"¡Ya te has registrado en este evento! No necesitas volver a hacerlo.",-1))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},$e={key:0,class:"sed"},Fe={key:1,class:"sed"},Pe={__name:"[slug]",setup(h){re("CyberWow | Participar del evento Cyber wow 2025","Formulario de Fortalece tu Mercado","cyberwow.ico");const e=A(),u=b({}),n=b(1),y=b(!0),w=async()=>{try{const c=e.params.slug,p=await v({url:`public/exist-event/${c}/2`,method:"GET"});u.value=(p==null?void 0:p.data)||{}}catch(c){console.error("Error de red:",c)}finally{y.value=!1}};return R(async()=>{await w()}),(c,p)=>(f(),q(Ee,{class:"fill-height",fluid:""},{default:d(()=>[r(D,{align:"center",justify:"center"},{default:d(()=>[r(V,{cols:"12",sm:"10",md:"8",lg:"6"},{default:d(()=>[r(pe,{"model-value":y.value,class:"align-center justify-center",persistent:"",scrim:""},{default:d(()=>[r(fe,{color:"#02e4a5",size:"64",indeterminate:""})]),_:1},8,["model-value"]),y.value?g("",!0):(f(),q(M,{key:0,elevation:"4",rounded:"lg"},{default:d(()=>{var _,s;return[((_=u.value)==null?void 0:_.status)==404?(f(),E("section",$e,[r(be,{info:u.value},null,8,["info"])])):g("",!0),(s=u.value)!=null&&s.slug?(f(),E("section",Fe,[r(xe,{info:u.value,color:"#f5105f",slideActive:n.value},null,8,["info","slideActive"]),n.value==1?(f(),q(Ce,{key:0,infoEvent:u.value,color:"#f5105f",onHandleInscription:p[0]||(p[0]=a=>n.value=2)},null,8,["infoEvent"])):g("",!0),n.value==2?(f(),q(Te,{key:1})):g("",!0)])):g("",!0)]}),_:1}))]),_:1})]),_:1})]),_:1}))}},it=me(Pe,[["__scopeId","data-v-fce3019d"]]);export{it as default};
