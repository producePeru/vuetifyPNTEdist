import{_ as B}from"./mp-D70lmokk.js";import{u as I}from"./usePageMeta-BPZ9RjgF.js";import{h as g}from"./httpRequest-D3KC4pOG.js";import{_ as N}from"./FormComponent-BhlprFXI.js";import{u as $}from"./useFormOptions-BD_ZbAMu.js";import{u as z,r as i,h,i as w,j as G,k as H,o as L,c as f,b as u,l as _,d as r,e as t,aO as U,p as v,_ as Z,f as J,w as c}from"./index-DKg2XclP.js";import"./dayjs.min-BaPeHrhp.js";import{V as K}from"./VContainer-Bj2En1SS.js";import{a as j,V}from"./VRow-B58K2p3B.js";import{V as Q}from"./VCard-B2YYBgjL.js";import{V as W}from"./VAvatar-DOyLkPAU.js";import"./index-CQKdCnOx.js";import"./VSnackbar-Brkwtkj-.js";import"./VSelect-CfY-dkzq.js";import"./VList-j23hygXv.js";import"./VDialog-BKMVgBTV.js";import"./VForm-BLLIbFGx.js";const X={key:0,class:"mp-form-consulting"},Y={key:1,class:"mp-form-diagniostico"},ee={key:2},oe={__name:"FormMujerProduceDiagnostico",setup(P){const x=z(),n=i(!1),R=h({});w();const T=G(),d=i(!1),q=i(1),a=h({}),m=i(1);v("formState",a),v("loadingStates",R),v("loadingSubmit",d);const l=h([{type:"search",label:"NÃºmero de RUC",model:"ruc",required:!1,max:11,disabled:!1},{type:"",label:"",model:"razonSocial"},{type:"select",label:"Tipo de documento",model:"typedocument_id",required:!0,options:[]},{type:"search",label:"NÃºmero de Documento",model:"documentnumber",required:!0,max:8,disabled:!1}]),b=i([{type:"checkbox",label:'Autorizo la participaciÃ³n y el uso de mis datos personales e imagen para fines institucionales del Programa Nacional "Tu Empresa", segÃºn la Ley N.Âº 29733',model:"autorization",required:!0,md:12,rows:3}]);H(n,o=>{x.global.name.value=o?"dark":"light"});const S=o=>{const e=l.find(s=>s.model===o);q.value==1&&o=="ruc"&&(e.disabled=!e.disabled)},k=async(o,e)=>{if(o.model==="typedocument_id"){const s=l.find(y=>y.model==="documentnumber");if(!s)return;const p={1:{max:8,autolockNames:!0},2:{max:9,autolockNames:!1},3:{max:12,autolockNames:!1},default:{max:9,autolockNames:!1}},C=p[o.value]||p.default;s.max=C.max,o.value,["name","lastname","middlename"].forEach(y=>{const E=l.find(A=>A.model===y);E&&(E.disabled=C.autolockNames)}),s.disabled=!1}if(o.model==="documentnumber"){const s=l.find(p=>p.model==="documentnumber");s&&(s.disabled=!1)}},F=async()=>{d.value=!0;const o={ruc:a.ruc?a.ruc:null,typedocument_id:a.typedocument_id,documentnumber:a.documentnumber};try{const e=await g({url:"mp/register-consulting",method:"POST",data:o});if(e.status==404)return T.push("/mujer-produce");e.status==200&&(console.log("Response: ",e),a.ruc=e.data.ruc,a.documentnumber=e.data.doc_number,Object.assign(a,e.data.questionnaire??{}),m.value=2)}catch(e){console.log("Error: ",e)}finally{d.value=!1}},D=async()=>{d.value=!0;const o=a;try{(await g({url:"mp/register-diagnostic-response",method:"POST",data:o})).status==200&&(m.value=3)}catch(e){console.log("Error: ",e)}finally{d.value=!1}},M=async()=>{try{const o=await g({url:"mp/question-diagnostic",method:"GET"});b.value=[...(o==null?void 0:o.data)||[],...b.value]}catch(o){console.error("Error de red:",o)}finally{}},{loadTypeDocuments:O}=$(l);return L(async()=>{await O(),a.typedocument_id=1,await M()}),(o,e)=>(u(),f("div",null,[m.value==1?(u(),f("div",X,[e[0]||(e[0]=r("h3",{class:"mb-10",style:{color:"#7d4fc6"}}," Inicie el proceso de su diagnÃ³stico. ",-1)),t(N,{colorForm:"#7d4fc6",fields:l,onSubmit:F,onChange:k,onHandleClearSearch:S,nameBtnSend:"EMPEZAR"},null,8,["fields"])])):_("",!0),m.value==2?(u(),f("div",Y,[e[1]||(e[1]=U('<h3 class="mb-2">Â¡Bienvenida! ðŸŒ¸</h3><p class="mb-3"> Eres parte del grupo de mujeres emprendedoras que <b style="color:#7d4fc6;">Mujer PRODUCE</b>, a travÃ©s del Programa Nacional Tu Empresa, <br>busca acompaÃ±ar y empoderar en su crecimiento empresarial y personal. </p><p class="mb-3">Te invitamos a completar esta ficha de <b>diagnÃ³stico inicial</b>, que nos permitirÃ¡ conocerte mejor y adaptar nuestros servicios a tus necesidades, con el objetivo de fortalecer tus habilidades en la gestiÃ³n de tu negocio y en tu desarrollo personal. </p><p class="mb-3"> ðŸ•’ Solo te tomarÃ¡ <b style="color:#ff5722;">5 minutos</b> y tu informaciÃ³n serÃ¡ clave para brindarte un mejor acompaÃ±amiento. </p><p class="mb-6"> Â¡Gracias por ser parte de esta experiencia de crecimiento! ðŸ’ªâœ¨</p>',5)),t(N,{colorForm:"#7d4fc6",fields:b.value,onSubmit:D,onChange:k,onHandleClearSearch:S},null,8,["fields"])])):_("",!0),m.value==3?(u(),f("div",ee,e[2]||(e[2]=[r("h1",{class:"mb-8",style:{color:"#7d4fc6"}}," diagnÃ³stico enviado. ",-1)]))):_("",!0)]))}},ae={class:"mp-header mp"},te={style:{height:"250px",display:"flex","justify-content":"center","flex-direction":"column"}},se={class:"mp",style:{"min-height":"calc(100vh - 375px)"}},re={__name:"index",setup(P){return I("Mujer Produce | Registro","Formulario de registro para el Evento de ProducciÃ³n de Mujeres","mp-ico.ico"),w(),i(!0),i({}),(x,n)=>(u(),J(K,{class:"py-0",fluid:""},{default:c(()=>[t(j,{align:"center",justify:"center"},{default:c(()=>[t(V,{cols:"12",sm:"12",md:"10",lg:"8",xl:"7",class:"my-2"},{default:c(()=>[t(Q,{elevation:"8",rounded:"lg",class:"h-100"},{default:c(()=>[r("div",ae,[t(j,null,{default:c(()=>[t(V,null,{default:c(()=>[r("div",te,[r("div",null,[t(W,{width:100,src:B}),n[0]||(n[0]=r("h1",{class:"mp-diagnostico-title"},"DIAGNÃ“STICO",-1)),n[1]||(n[1]=r("h2",{class:"mp-diagnostico-sub-title"},"EMPRESARIAL",-1))])])]),_:1})]),_:1})]),r("div",se,[t(oe)])]),_:1})]),_:1})]),_:1})]),_:1}))}},ke=Z(re,[["__scopeId","data-v-bf7fd5c8"]]);export{ke as default};
