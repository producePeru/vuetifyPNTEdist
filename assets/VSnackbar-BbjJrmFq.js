import{az as Se,O as ce,s as K,v as D,y as q,aX as we,bm as ie,bn as Ge,d as M,T as ee,F as te,N as Ce,Q as Qe,r as U,al as We,bo as Xe,ag as ae,bc as Je,E as Ze,k as W,D as re,av as qe,S as Fe,x as he,e as b,z as R,aG as xe,aH as Ie,bd as et,bp as ye,bq as ge,br as tt,V as be,bs as at,bt as lt,bu as nt,q as ut,ac as Pe,g as ot,ak as st,aL as it,a5 as rt,ah as ct,a4 as vt,bv as ft,o as dt,bw as mt,a8 as ht,an as yt,a9 as gt,ao as bt,ap as kt,bg as pt,M as Vt,m as ke,am as St,bx as wt}from"./index-BZFzyA8T.js";import{u as Ct,d as Ft,e as xt,f as It,a as Pt}from"./VSelect-DUy_LCL2.js";import{f as Mt,a as Lt,b as pe,e as _t,g as At,d as Ve}from"./VList-B13OjZa2.js";import{a as Tt}from"./VAvatar-DdXrqiQi.js";const Me=Symbol.for("vuetify:layout");function Dt(){const e=Se(Me);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}const Rt=(e,u,t)=>{if(e==null||u==null)return-1;if(!u.length)return 0;e=e.toString().toLocaleLowerCase(),u=u.toString().toLocaleLowerCase();const o=[];let i=e.indexOf(u);for(;~i;)o.push([i,i+u.length]),i=e.indexOf(u,i+u.length);return o.length?o:-1};function se(e,u){if(!(e==null||typeof e=="boolean"||e===-1))return typeof e=="number"?[[e,e+u.length]]:Array.isArray(e[0])?e:[e]}const Kt=ce({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ot(e,u,t){var p;const o=[],i=(t==null?void 0:t.default)??Rt,m=t!=null&&t.filterKeys?ie(t.filterKeys):!1,r=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return o;let y=null;e:for(let w=0;w<e.length;w++){const[l,V=l]=ie(e[w]),x={},L={};let g=-1;if((u||r>0)&&!(t!=null&&t.noFilter)){let j=!1;if(typeof l=="object"){if(l.type==="divider"||l.type==="subheader"){(y==null?void 0:y.type)==="divider"&&l.type==="subheader"&&o.push(y),y={index:w,matches:{},type:l.type};continue}const v=m||Object.keys(V);j=v.length===r;for(const n of v){const H=Ge(V,n),_=(p=t==null?void 0:t.customKeyFilter)==null?void 0:p[n];if(g=_?_(H,u,l):i(H,u,l),g!==-1&&g!==!1)_?x[n]=se(g,u):L[n]=se(g,u);else if((t==null?void 0:t.filterMode)==="every")continue e}}else g=i(l,u,l),g!==-1&&g!==!1&&(L.title=se(g,u));const O=Object.keys(L).length,E=Object.keys(x).length;if(!O&&!E||(t==null?void 0:t.filterMode)==="union"&&E!==r&&!O||(t==null?void 0:t.filterMode)==="intersection"&&(E!==r||!O&&r>0&&!j))continue}y&&(o.push(y),y=null),o.push({index:w,matches:{...L,...x}})}return o}function Et(e,u,t,o){const i=K([]),m=K(new Map),r=D(()=>q(u));we(()=>{const p=typeof t=="function"?t():q(t),w=typeof p!="string"&&typeof p!="number"?"":String(p),l=Ot(r.value,w,{customKeyFilter:{...e.customKeyFilter,...q(o==null?void 0:o.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),V=q(u),x=[],L=new Map;l.forEach(g=>{let{index:j,matches:O}=g;const E=V[j];x.push(E),L.set(E.value,O)}),i.value=x,m.value=L});function y(p){return m.value.get(p.value)}return{filteredItems:i,filteredMatches:m,getMatches:y}}function Bt(e,u,t){return t==null||!t.length?u:t.map((o,i)=>{const m=i===0?0:t[i-1][1],r=[M("span",{class:ee(`${e}__unmask`)},[u.slice(m,o[0])]),M("span",{class:ee(`${e}__mask`)},[u.slice(o[0],o[1])])];return i===t.length-1&&r.push(M("span",{class:ee(`${e}__unmask`)},[u.slice(o[1])])),M(te,null,[r])})}const Nt=ce({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Kt({filterKeys:["title"]}),...xt(),...Ie(et({modelValue:null,role:"combobox"}),["validationValue","dirty"])},"VAutocomplete"),Gt=Ce()({name:"VAutocomplete",props:Nt(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,u){let{slots:t}=u;const{t:o}=Qe(),i=U(),m=K(!1),r=K(!0),y=K(!1),p=U(),w=U(),l=K(-1),V=K(null),{items:x,transformIn:L,transformOut:g}=Mt(e),{textColorClasses:j,textColorStyles:O}=We(()=>{var a;return(a=i.value)==null?void 0:a.color}),{InputIcon:E}=Xe(e),v=ae(e,"search",""),n=ae(e,"modelValue",[],a=>L(a===null?[null]:ie(a)),a=>{const s=g(a);return e.multiple?s:s[0]??null}),H=D(()=>typeof e.counterValue=="function"?e.counterValue(n.value):typeof e.counterValue=="number"?e.counterValue:n.value.length),_=Je(e),{filteredItems:Y,getMatches:le}=Et(e,x,()=>V.value??(r.value?"":v.value)),A=D(()=>e.hideSelected&&V.value===null?Y.value.filter(a=>!n.value.some(s=>s.value===a.value)):Y.value),X=Ze(()=>e.closableChips&&!_.isReadonly.value&&!_.isDisabled.value),G=D(()=>!!(e.chips||t.chip)),h=D(()=>G.value||!!t.selection),z=D(()=>n.value.map(a=>a.props.value)),B=D(()=>A.value.find(a=>a.type==="item"&&!a.props.disabled)),Q=D(()=>{var s;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&v.value===((s=B.value)==null?void 0:s.title))&&A.value.length>0&&!r.value&&!y.value}),J=D(()=>e.hideNoData&&!A.value.length||_.isReadonly.value||_.isDisabled.value),ne=ae(e,"menu"),k=D({get:()=>ne.value,set:a=>{var s;ne.value&&!a&&((s=p.value)!=null&&s.Î¨openChildren.size)||a&&J.value||(ne.value=a)}}),{menuId:Le,ariaExpanded:_e,ariaControls:Ae}=Ct(e,k),ue=U(),Te=Ft(ue,i);function De(a){e.openOnClear&&(k.value=!0),v.value=""}function Re(){J.value||(k.value=!0)}function Ke(a){J.value||(m.value&&(a.preventDefault(),a.stopPropagation()),k.value=!k.value)}function Oe(a){var s;(ye(a)||a.key==="Backspace")&&((s=i.value)==null||s.focus())}function Ee(a){var S,I,f,F,T;if(_.isReadonly.value)return;const s=(S=i.value)==null?void 0:S.selectionStart,d=n.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(a.key)&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(k.value=!0),["Escape"].includes(a.key)&&(k.value=!1),Q.value&&["Enter","Tab"].includes(a.key)&&B.value&&!n.value.some(C=>{let{value:c}=C;return c===B.value.value})&&$(B.value),a.key==="ArrowDown"&&Q.value&&((I=ue.value)==null||I.focus("next")),["Backspace","Delete"].includes(a.key)){if(!e.multiple&&h.value&&n.value.length>0&&!v.value)return $(n.value[0],!1);if(~l.value){a.preventDefault();const C=l.value;$(n.value[l.value],!1),l.value=C>=d-1?d-2:C}else a.key==="Backspace"&&!v.value&&(l.value=d-1);return}if(e.multiple)if(a.key==="ArrowLeft"){if(l.value<0&&s&&s>0)return;const C=l.value>-1?l.value-1:d-1;if(n.value[C])l.value=C;else{const c=((f=v.value)==null?void 0:f.length)??null;l.value=-1,(F=i.value)==null||F.setSelectionRange(c,c)}}else if(a.key==="ArrowRight"){if(l.value<0)return;const C=l.value+1;n.value[C]?l.value=C:(l.value=-1,(T=i.value)==null||T.setSelectionRange(0,0))}else~l.value&&ye(a)&&(l.value=-1)}function Be(a){if(ge(i.value,":autofill")||ge(i.value,":-webkit-autofill")){const s=x.value.find(d=>d.title===a.target.value);s&&$(s)}}function Ne(){var a;e.eager&&((a=w.value)==null||a.calculateVisibleItems())}function je(){var a;m.value&&(r.value=!0,(a=i.value)==null||a.focus()),V.value=null}function ze(a){m.value=!0,setTimeout(()=>{y.value=!0})}function $e(a){y.value=!1}function Ue(a){(a==null||a===""&&!e.multiple&&!h.value)&&(n.value=[])}const oe=K(!1);function $(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!a||a.props.disabled))if(e.multiple){const d=n.value.findIndex(I=>(e.valueComparator||tt)(I.value,a.value)),S=s??!~d;if(~d){const I=S?[...n.value,a]:[...n.value];I.splice(d,1),n.value=I}else S&&(n.value=[...n.value,a]);e.clearOnSelect&&(v.value="")}else{const d=s!==!1;n.value=d?[a]:[],V.value=r.value?"":v.value??"",v.value=d&&!h.value?a.title:"",re(()=>{k.value=!1,r.value=!0})}}return W(m,(a,s)=>{var d;a!==s&&(a?(oe.value=!0,v.value=e.multiple||h.value?"":String(((d=n.value.at(-1))==null?void 0:d.props.title)??""),r.value=!0,re(()=>oe.value=!1)):(!e.multiple&&v.value==null&&(n.value=[]),k.value=!1,!r.value&&v.value&&(V.value=v.value),v.value="",l.value=-1))}),W(v,a=>{!m.value||oe.value||(a&&(k.value=!0),r.value=!a)}),W(k,a=>{if(!e.hideSelected&&a&&n.value.length&&r.value){const s=A.value.findIndex(d=>n.value.some(S=>d.value===S.value));qe&&window.requestAnimationFrame(()=>{var d;s>=0&&((d=w.value)==null||d.scrollToIndex(s))})}a&&(V.value=null)}),W(x,(a,s)=>{k.value||m.value&&!s.length&&a.length&&(k.value=!0)}),Fe(()=>{const a=!!(!e.hideNoData||A.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),s=n.value.length>0,d=he.filterProps(e);return b(he,R({ref:i},d,{modelValue:v.value,"onUpdate:modelValue":[S=>v.value=S,Ue],focused:m.value,"onUpdate:focused":S=>m.value=S,validationValue:n.externalValue,counterValue:H.value,dirty:s,onChange:Be,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":k.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!h.value,"v-autocomplete--selecting-index":l.value>-1},e.class],style:e.style,readonly:_.isReadonly.value,placeholder:s?void 0:e.placeholder,"onClick:clear":De,"onMousedown:control":Re,onKeydown:Ee,"aria-expanded":_e.value,"aria-controls":Ae.value}),{...t,default:S=>{let{id:I}=S;return M(te,null,[b(lt,R({id:Le.value,ref:p,modelValue:k.value,"onUpdate:modelValue":f=>k.value=f,activator:"parent",contentClass:"v-autocomplete__content",disabled:J.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:Ne,onAfterLeave:je},e.menuProps),{default:()=>[a&&b(Lt,R({ref:ue,filterable:!0,selected:z.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:f=>f.preventDefault(),onKeydown:Oe,onFocusin:ze,onFocusout:$e,tabindex:"-1",selectable:!!A.value.length,"aria-live":"polite","aria-labelledby":`${I.value}-label`,"aria-multiselectable":e.multiple,color:e.itemColor??e.color},Te,e.listProps),{default:()=>{var f,F,T;return[(f=t["prepend-item"])==null?void 0:f.call(t),!A.value.length&&!e.hideNoData&&(((F=t["no-data"])==null?void 0:F.call(t))??b(pe,{key:"no-data",title:o(e.noDataText)},null)),b(It,{ref:w,renderless:!0,items:A.value,itemKey:"value"},{default:C=>{var fe,de,me;let{item:c,index:N,itemRef:P}=C;const ve=R(c.props,{ref:P,key:c.value,active:Q.value&&c===B.value?!0:void 0,onClick:()=>$(c,null),"aria-posinset":N+1,"aria-setsize":A.value.length});return c.type==="divider"?((fe=t.divider)==null?void 0:fe.call(t,{props:c.raw,index:N}))??b(_t,R(c.props,{key:`divider-${N}`}),null):c.type==="subheader"?((de=t.subheader)==null?void 0:de.call(t,{props:c.raw,index:N}))??b(At,R(c.props,{key:`subheader-${N}`}),null):((me=t.item)==null?void 0:me.call(t,{item:c,index:N,props:ve}))??b(pe,R(ve,{role:"option"}),{prepend:Z=>{let{isSelected:He}=Z;return M(te,null,[e.multiple&&!e.hideSelected?b(Pt,{key:c.value,modelValue:He,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:Ye=>Ye.preventDefault()},null):void 0,c.props.prependAvatar&&b(Tt,{image:c.props.prependAvatar},null),c.props.prependIcon&&b(be,{icon:c.props.prependIcon},null)])},title:()=>{var Z;return r.value?c.title:Bt("v-autocomplete",c.title,(Z=le(c))==null?void 0:Z.title)}})}}),(T=t["append-item"])==null?void 0:T.call(t)]}})]}),n.value.map((f,F)=>{function T(P){P.stopPropagation(),P.preventDefault(),$(f,!1)}const C=R(Ve.filterProps(f.props),{"onClick:close":T,onKeydown(P){P.key!=="Enter"&&P.key!==" "||(P.preventDefault(),P.stopPropagation(),T(P))},onMousedown(P){P.preventDefault(),P.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),c=G.value?!!t.chip:!!t.selection,N=c?nt(G.value?t.chip({item:f,index:F,props:C}):t.selection({item:f,index:F})):void 0;if(!(c&&!N))return M("div",{key:f.value,class:ee(["v-autocomplete__selection",F===l.value&&["v-autocomplete__selection--selected",j.value]]),style:ut(F===l.value?O.value:{})},[G.value?t.chip?b(Pe,{key:"chip-defaults",defaults:{VChip:{closable:X.value,size:"small",text:f.title}}},{default:()=>[N]}):b(Ve,R({key:"chip",closable:X.value,size:"small",text:f.title,disabled:f.props.disabled},C),null):N??M("span",{class:"v-autocomplete__selection-text"},[f.title,e.multiple&&F<n.value.length-1&&M("span",{class:"v-autocomplete__selection-comma"},[ot(",")])])])})])},"append-inner":function(){var F,T;for(var S=arguments.length,I=new Array(S),f=0;f<S;f++)I[f]=arguments[f];return M(te,null,[(F=t["append-inner"])==null?void 0:F.call(t,...I),e.menuIcon?b(be,{class:"v-autocomplete__menu-icon",color:(T=i.value)==null?void 0:T.fieldIconColor,icon:e.menuIcon,onMousedown:Ke,onClick:at,"aria-hidden":!0,tabindex:"-1"},null):void 0,e.appendInnerIcon&&b(E,{key:"append-icon",name:"appendInner",color:I[0].iconColor.value},null)])}})}),xe({isFocused:m,isPristine:r,menu:k,search:v,filteredItems:Y,select:$},i)}});function jt(e){const u=K(e());let t=-1;function o(){clearInterval(t)}function i(){o(),re(()=>u.value=e())}function m(r){const y=r?getComputedStyle(r):{transitionDuration:.2},p=parseFloat(y.transitionDuration)*1e3||200;if(o(),u.value<=0)return;const w=performance.now();t=window.setInterval(()=>{const l=performance.now()-w+p;u.value=Math.max(e()-l,0),u.value<=0&&o()},p)}return Vt(o),{clear:o,time:u,start:m,reset:i}}const zt=ce({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...kt({location:"bottom"}),...bt(),...gt(),...yt(),...ht(),...Ie(pt({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","retainFocus","captureFocus","disableInitialFocus","scrim","scrollStrategy","stickToTarget","viewportMargin"])},"VSnackbar"),Qt=Ce()({name:"VSnackbar",props:zt(),emits:{"update:modelValue":e=>!0},setup(e,u){let{slots:t}=u;const o=ae(e,"modelValue"),{positionClasses:i}=st(e),{scopeId:m}=it(),{themeClasses:r}=rt(e),{colorClasses:y,colorStyles:p,variantClasses:w}=ct(e),{roundedClasses:l}=vt(e),V=jt(()=>Number(e.timeout)),x=U(),L=U(),g=K(!1),j=K(0),O=U(),E=Se(Me,void 0);ft(()=>!!E,()=>{const h=Dt();we(()=>{O.value=h.mainStyles.value})}),W(o,n),W(()=>e.timeout,n),dt(()=>{o.value&&n()});let v=-1;function n(){V.reset(),window.clearTimeout(v);const h=Number(e.timeout);if(!o.value||h===-1)return;const z=mt(L.value);V.start(z),v=window.setTimeout(()=>{o.value=!1},h)}function H(){V.reset(),window.clearTimeout(v)}function _(){g.value=!0,H()}function Y(){g.value=!1,n()}function le(h){j.value=h.touches[0].clientY}function A(h){Math.abs(j.value-h.changedTouches[0].clientY)>50&&(o.value=!1)}function X(){g.value&&Y()}const G=D(()=>e.location.split(" ").reduce((h,z)=>(h[`v-snackbar--${z}`]=!0,h),{}));return Fe(()=>{const h=ke.filterProps(e),z=!!(t.default||t.text||e.text);return b(ke,R({ref:x,class:["v-snackbar",{"v-snackbar--active":o.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},G.value,i.value,e.class],style:[O.value,e.style]},h,{modelValue:o.value,"onUpdate:modelValue":B=>o.value=B,contentProps:R({class:["v-snackbar__wrapper",r.value,y.value,l.value,w.value],style:[p.value],onPointerenter:_,onPointerleave:Y},h.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:le,onTouchend:A,onAfterLeave:X},m),{default:()=>{var B,Q;return[St(!1,"v-snackbar"),e.timer&&!g.value&&M("div",{key:"timer",class:"v-snackbar__timer"},[b(wt,{ref:L,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,modelValue:V.time.value},null)]),z&&M("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((B=t.text)==null?void 0:B.call(t))??e.text,(Q=t.default)==null?void 0:Q.call(t)]),t.actions&&b(Pe,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[M("div",{class:"v-snackbar__actions"},[t.actions({isActive:o})])]})]},activator:t.activator})}),xe({},x)}});export{Qt as V,Gt as a};
