import{_ as O}from"./mp-D70lmokk.js";import{u as $}from"./usePageMeta-C568df4x.js";import{h as y}from"./httpRequest-D3KC4pOG.js";import{_ as N}from"./FormComponent-BiQX8A-l.js";import{u as z}from"./useFormOptions-BD_ZbAMu.js";import{_ as P,L as G,r as i,i as v,u as w,k as H,H as L,o as U,c as f,b as u,m as _,d as r,e as t,at as Z,M as h,f as J,w as l}from"./index-DvHgKj-3.js";import"./VDialog-CjecIQR3.js";import{V as K}from"./VContainer-D7k2D6Xn.js";import{a as j,V}from"./VRow-uLsAeafD.js";import{V as Q}from"./VCard-DcbynYML.js";import{V as W}from"./VAvatar-BVJofbyv.js";import"./index-VCTBDX5T.js";import"./VSnackbar-CJtNgblS.js";import"./VList-BMsLuQlE.js";import"./VForm-Btklaq4q.js";const X={key:0,class:"mp-form-consulting"},Y={key:1,class:"mp-form-diagniostico"},ee={key:2},ae={__name:"FormMujerProduceDiagnostico",setup(R){const x=G(),n=i(!1),M=v({});w();const T=H(),c=i(!1),q=i(1),o=v({}),m=i(1);h("formState",o),h("loadingStates",M),h("loadingSubmit",c);const d=v([{type:"search",label:"NÃºmero de RUC",model:"ruc",required:!1,max:11,disabled:!1},{type:"",label:"",model:"razonSocial"},{type:"select",label:"Tipo de documento",model:"typedocument_id",required:!0,options:[]},{type:"search",label:"NÃºmero de Documento",model:"documentnumber",required:!0,max:8,disabled:!1}]),b=i([{type:"checkbox",label:'Autorizo la participaciÃ³n y el uso de mis datos personales e imagen para fines institucionales del Programa Nacional "Tu Empresa", segÃºn la Ley N.Âº 29733',model:"autorization",required:!0,md:12,rows:3}]);L(n,a=>{x.global.name.value=a?"dark":"light"});const S=a=>{const e=d.find(s=>s.model===a);q.value==1&&a=="ruc"&&(e.disabled=!e.disabled)},k=async(a,e)=>{if(a.model==="typedocument_id"){const s=d.find(g=>g.model==="documentnumber");if(!s)return;const p={1:{max:8,autolockNames:!0},2:{max:9,autolockNames:!1},3:{max:12,autolockNames:!1},default:{max:9,autolockNames:!1}},C=p[a.value]||p.default;s.max=C.max,a.value,["name","lastname","middlename"].forEach(g=>{const E=d.find(B=>B.model===g);E&&(E.disabled=C.autolockNames)}),s.disabled=!1}if(a.model==="documentnumber"){const s=d.find(p=>p.model==="documentnumber");s&&(s.disabled=!1)}},D=async()=>{c.value=!0;const a={ruc:o.ruc?o.ruc:null,typedocument_id:o.typedocument_id,documentnumber:o.documentnumber};try{const e=await y({url:"mp/register-consulting",method:"POST",data:a});if(e.status==404)return T.push("/mujer-produce");e.status==200&&(console.log("Response: ",e),o.ruc=e.data.ruc,o.documentnumber=e.data.doc_number,Object.assign(o,e.data.questionnaire??{}),m.value=2)}catch(e){console.log("Error: ",e)}finally{c.value=!1}},F=async()=>{c.value=!0;const a=o;try{(await y({url:"mp/register-diagnostic-response",method:"POST",data:a})).status==200&&(m.value=3)}catch(e){console.log("Error: ",e)}finally{c.value=!1}},I=async()=>{try{const a=await y({url:"mp/question-diagnostic",method:"GET"});b.value=[...(a==null?void 0:a.data)||[],...b.value]}catch(a){console.error("Error de red:",a)}finally{}},{loadTypeDocuments:A}=z(d);return U(async()=>{await A(),o.typedocument_id=1,await I()}),(a,e)=>(u(),f("div",null,[m.value==1?(u(),f("div",X,[e[0]||(e[0]=r("h3",{class:"mb-10",style:{color:"#7d4fc6"}}," Inicie el proceso de su diagnÃ³stico. ",-1)),t(N,{colorForm:"#7d4fc6",fields:d,onSubmit:D,onChange:k,onHandleClearSearch:S,nameBtnSend:"EMPEZAR"},null,8,["fields"])])):_("",!0),m.value==2?(u(),f("div",Y,[e[1]||(e[1]=Z('<h3 class="mb-2" data-v-4075ed83>Â¡Bienvenida! ðŸŒ¸</h3><p class="mb-3" data-v-4075ed83> Eres parte del grupo de mujeres emprendedoras que <b style="color:#7d4fc6;" data-v-4075ed83>Mujer PRODUCE</b>, a travÃ©s del Programa Nacional Tu Empresa, <br data-v-4075ed83>busca acompaÃ±ar y empoderar en su crecimiento empresarial y personal. </p><p class="mb-3" data-v-4075ed83>Te invitamos a completar esta ficha de <b data-v-4075ed83>diagnÃ³stico inicial</b>, que nos permitirÃ¡ conocerte mejor y adaptar nuestros servicios a tus necesidades, con el objetivo de fortalecer tus habilidades en la gestiÃ³n de tu negocio y en tu desarrollo personal. </p><p class="mb-3" data-v-4075ed83> ðŸ•’ Solo te tomarÃ¡ <b style="color:#ff5722;" data-v-4075ed83>5 minutos</b> y tu informaciÃ³n serÃ¡ clave para brindarte un mejor acompaÃ±amiento. </p><p class="mb-6" data-v-4075ed83> Â¡Gracias por ser parte de esta experiencia de crecimiento! ðŸ’ªâœ¨</p>',5)),t(N,{colorForm:"#7d4fc6",fields:b.value,onSubmit:F,onChange:k,onHandleClearSearch:S},null,8,["fields"])])):_("",!0),m.value==3?(u(),f("div",ee,e[2]||(e[2]=[r("h1",{class:"mb-8",style:{color:"#7d4fc6"}}," diagnÃ³stico enviado. ",-1)]))):_("",!0)]))}},oe=P(ae,[["__scopeId","data-v-4075ed83"]]),te={class:"mp-header mp"},se={style:{height:"250px",display:"flex","justify-content":"center","flex-direction":"column"}},re={class:"mp",style:{"min-height":"calc(100vh - 375px)"}},ie={__name:"index",setup(R){return $("Mujer Produce | Registro","Formulario de registro para el Evento de ProducciÃ³n de Mujeres","mp-ico.ico"),w(),i(!0),i({}),(x,n)=>(u(),J(K,{class:"py-0",fluid:""},{default:l(()=>[t(j,{align:"center",justify:"center"},{default:l(()=>[t(V,{cols:"12",sm:"12",md:"10",lg:"8",xl:"7",class:"my-2"},{default:l(()=>[t(Q,{elevation:"8",rounded:"lg",class:"h-100"},{default:l(()=>[r("div",te,[t(j,null,{default:l(()=>[t(V,null,{default:l(()=>[r("div",se,[r("div",null,[t(W,{width:100,src:O}),n[0]||(n[0]=r("h1",{class:"mp-diagnostico-title"},"DIAGNÃ“STICO",-1)),n[1]||(n[1]=r("h2",{class:"mp-diagnostico-sub-title"},"EMPRESARIAL",-1))])])]),_:1})]),_:1})]),r("div",re,[t(oe)])]),_:1})]),_:1})]),_:1})]),_:1}))}},Se=P(ie,[["__scopeId","data-v-bf7fd5c8"]]);export{Se as default};
