import{u as re}from"./usePageMeta-DQEiPPld.js";import{h as D}from"./httpRequest-B4w4n6I1.js";import{c as q,b as v,i as l,P as x,R as S,Q as d,j as s,n as de,Y as $,T as h,U as A,h as ce,V as ue,a6 as F,r as E,a5 as O,a8 as me,ad as pe,w as M,o as I,N as fe,z as R,_ as Y,a7 as _e,X as ye}from"./index-CJ5Eb5f-.js";import{_ as ge}from"./EventFinalized-DfZi4j8j.js";import{d as z,V as B}from"./VDialog-Cg4DWZLX.js";import"./es-u9SGblXX.js";import{a as C,V as T}from"./VRow-Cuqj0xW2.js";import{V as H}from"./VImg-DmeasB04.js";import{_ as ve}from"./verificacion-DI9pvaX9.js";import{_ as be}from"./FormComponent-BNAE-LjM.js";import{V as P,b as U}from"./VCard-B3MzwyPE.js";import{u as he}from"./useFormOptions-D7Ovro3V.js";import{V as Ee}from"./VSnackbar-D_gyoWl6.js";import{S as we}from"./SedPresentation-qylrot22.js";import{V as De}from"./VContainer-BJ-9B-UF.js";/* empty css                                                       */import"./index-zdMzgY5o.js";import"./VForm-gFX5V7zs.js";import"./VAvatar-D02nYGZf.js";import"./VList-D2wE9ndf.js";import"./ssrBoot-DT69G-fR.js";/* empty css                                                                        */const Se="/assets/foro-DgLSvvr2.svg",xe={style:{"line-height":"2"}},Ve={style:{"list-style":"none","padding-left":"0"}},ke={__name:"ForoHeader",props:{color:{type:String,default:"#02e4a5"},info:{type:Object,required:!0,default:()=>({})},slideActive:{type:Number,default:1}},setup(_){z.locale("es");const e=m=>{if(m)return z(m).locale("es").format("D [de] MMMM [de] YYYY")};return(m,u)=>(v(),q("section",null,[l(T,{justify:"center",align:"center",class:"h-100"},{default:d(()=>[l(C,{cols:"auto",class:"p-0"},{default:d(()=>[l(H,{width:160,src:Se})]),_:1})]),_:1}),_.info?(v(),x(T,{key:0},{default:d(()=>[l(C,{cols:"12",class:"text-center pt-0"},{default:d(()=>{var p;return[s("h1",{class:"title",style:de({color:_.color})},$((p=_.info)==null?void 0:p.title),5)]}),_:1}),_.slideActive==2?(v(),x(C,{key:0},{default:d(()=>{var p,b,n;return[s("div",xe,[u[3]||(u[3]=s("h4",null,"Información",-1)),s("ul",Ve,[s("li",null,[l(A,null,{default:d(()=>u[0]||(u[0]=[h("mdi-map-marker")])),_:1,__:[0]}),h(" LUGAR: "+$((p=_.info)==null?void 0:p.place),1)]),s("li",null,[l(A,{left:""},{default:d(()=>u[1]||(u[1]=[h("mdi-calendar")])),_:1,__:[1]}),h(" FECHA: "+$(e((b=_.info)==null?void 0:b.fecha)),1)]),s("li",null,[l(A,{left:""},{default:d(()=>u[2]||(u[2]=[h("mdi-clock-time-four-outline")])),_:1,__:[2]}),h(" HORARIO: "+$((n=_.info)==null?void 0:n.schedule),1)])])])]}),_:1})):S("",!0)]),_:1})):S("",!0)]))}},$e={class:"text-center pa-4"},Ce={href:"https://api.whatsapp.com/send?phone=+51901761128&text=%F0%9F%91%8BHola,%20quiero%20participar%20del%20foro%20",target:"_blank",class:"url-link"},qe={__name:"ModalComunicateLuis",props:{dialog:{type:Boolean,default:!1}},emits:["update:dialog","dialog-change"],setup(_,{emit:e}){const m=_,u=e,p=ce({get:()=>m.dialog,set:b=>u("update:dialog",b)});return(b,n)=>(v(),q("div",$e,[l(B,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=y=>p.value=y),"max-width":"460",persistent:""},{default:d(()=>[l(P,{"prepend-icon":"mdi-account-group",title:"Atención"},{default:d(()=>[l(U,{class:"text-h7"},{default:d(()=>[n[2]||(n[2]=s("p",null,[h("Al parecer, no has participado de ninguna "),s("br"),s("b",null,"Sesión de Entrenamiento Digital"),h(".")],-1)),n[3]||(n[3]=s("p",{class:"mt-3"},"Por favor, ponte en contacto con nosotros para más información.",-1)),n[4]||(n[4]=s("br",null,null,-1)),s("a",Ce,[l(ue,{color:"#28a219",text:"",block:""},{default:d(()=>n[1]||(n[1]=[h("Contactar por WhatsApp")])),_:1,__:[1]})])]),_:1,__:[2,3,4]})]),_:1})]),_:1},8,["modelValue"])]))}},Ne={class:"custom-form"},Ae={class:"text-center"},Fe={style:{"text-align":"center",margin:"auto"}},Re={__name:"ForoForm",setup(_){const e=F({socials:[]}),m=E(!1),u=F({}),p=O(),b=me(),n=E(!1),y=E(1),V=E(!1);R("formState",e),R("loadingStates",u),R("loadingSubmit",n);const f=F([{type:"title",label:"Datos de la Empresa",md:12},{type:"search",label:"Número de RUC",model:"ruc",required:!0,max:11,disabled:!1},{type:"text",label:"Razón Social",model:"razonSocial",required:!0,disabled:!0},{type:"title",label:"Datos del Participante",md:12},{type:"select",label:"Tipo de documento",model:"typedocument_id",required:!0,options:[]},{type:"search",label:"Número de Documento",model:"documentnumber",required:!0,max:8,disabled:!1},{type:"text",label:"Apellido Paterno",model:"lastname",required:!0,disabled:!0},{type:"text",label:"Apellido Materno",model:"middlename",required:!0,disabled:!0},{type:"text",label:"Nombres",model:"name",required:!0,disabled:!0},{type:"select",label:"Región",model:"city_id",required:!0,options:[],disabled:!1},{type:"select",label:"Provincia",model:"province_id",required:!0,options:[],disabled:!1},{type:"select",label:"Distrito",model:"district_id",required:!0,options:[],disabled:!1},{type:"text",label:"Dirección",model:"address",required:!0,disabled:!1},{type:"select",label:"¿Tiene alguna discapacidad?",model:"sick",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}]},{type:"number",label:"Número de celular",model:"phone",required:!0,max:9,minLength:9},{type:"email",label:"Correo electrónico",model:"email",required:!0},{type:"checkbox",label:"Autorizo la participación y el uso de mis datos personales e imagen para fines institucionales del Programa Tu Empresa, según la Ley N.º 29733",model:"autorization",required:!0,md:12,rows:3}]),w=E({visible:!1,message:"",color:"error"}),j=pe(),G=E(!1);M(G,t=>{j.global.name.value=t?"dark":"light"}),M(()=>e.birthday,t=>{t?e.age=`${L(t)}`:e.age=null});function L(t){const[o,a,r]=t.split("/").map(Number);if(!o||!a||!r)return null;const i=new Date(r,a-1,o),g=new Date;let c=g.getFullYear()-i.getFullYear();return g.getMonth()>i.getMonth()||g.getMonth()===i.getMonth()&&g.getDate()>=i.getDate()||c--,c}const K=(t=!0)=>{["ruc","razonSocial","comercialName","typeContribuyente_id","economicsector_id","rubro_id","comercialactivity_id","city_id","province_id","district_id","address"].forEach(a=>{const r=f.find(i=>i.model===a);r&&(r.disabled=t)})},Q=t=>{const o=f.find(a=>a.model===t);y.value==1&&t=="ruc"&&(e.ruc=null,e.razonSocial=null,o.disabled=!o.disabled),t=="documentnumber"&&(e.typedocument_id=null,e.documentnumber=null,e.name=null,e.lastname=null,e.middlename=null)},W=()=>{console.log("tyiotoototot"),["name","lastname","middlename"].forEach(t=>{const o=f.find(a=>a.model===t);o&&(o.disabled=!1)})},X=()=>{["name","lastname","middlename"].forEach(t=>{const o=f.find(a=>a.model===t);o&&(o.disabled=!0)})},J=async(t,o)=>{if(t.model=="typedocument_id"){const a=f.find(r=>r.model==="documentnumber");a.disabled=!1}if(t.model=="rubro_id"){e.comercialactivity_id=null;const a=await D({url:`select/activity-by-rubro/${t.value}`,method:"GET"}),r=f.find(i=>i.model==="comercialactivity_id");r.options=a.data}if(t.model=="city_id"){e.province_id=null,e.district_id=null;const a=`select/provinces/${t.value}`;N(a,"province_id")}if(t.model=="province_id"){e.district_id=null;const a=`select/districts/${t.value}`;N(a,"district_id")}if(t.model=="typedocument_id"){const a=f.find(r=>r.model==="documentnumber");t.value==1?(a.max=8,X()):(a.max=9,W())}},Z=async t=>{let o=null;if(t=="documentnumber"&&(o=e.documentnumber),t=="ruc"&&(o=e.ruc),(await D({url:"events-pnte/is-registered",method:"POST",data:{column:t,number:o}})).status==200){const{data:i}=g;if(e.ruc=i.ruc,!i.socialReason){const c=await D({url:`api/consult-company-ruc/${e.ruc}`,method:"POST"});if(c.status==200){const{data:k}=c;e.razonSocial=k.socialReason}}e.documentnumber=i.documentnumber;const g=await D({url:`api/consult-businessman-dni/${e.documentnumber}`,method:"POST"});if(g.status==200){const{data:c}=g;e.name=c.name,e.lastname=c.lastname,e.middlename=c.middlename}if(e.typedocument_id=i.typedocument_id,e.phone=i.phone,e.email=i.email,e.category_id=i.category_id,i.city_id){e.city_id=i.city_id;const c=`select/provinces/${i.city_id}`;N(c,"province_id")}if(i.province_id){e.province_id=i.province_id;const c=`select/districts/${i.province_id}`;N(c,"district_id")}e.district_id=i.district_id,e.address=i.address,e.comercialactivity_id=i.comercialactivity_id,e.economicsector_id=i.economicsector_id,e.age=i.age,e.comercialName=i.comercialName,e.howKnowEvent_id=i.howKnowEvent_id,e.positionCompany=i.positionCompany}else m.value=!0;u.ruc=!1,u.documentnumber=!1},ee=async()=>{var o,a;n.value=!0;const t={ruc:e.ruc,comercialName:e.comercialName,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,category_id:e.category_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,typeAsistente:y.value,documentnumber:e.documentnumber,sick:e.sick,phone:e.phone,email:e.email,positionCompany:e.positionCompany,howKnowEvent_id:e.howKnowEvent_id,slug:p.params.slug,age:e.age,name:e.name,lastname:e.lastname};try{(await D({url:"events-pnte/participant-registration-sed",method:"POST",data:t})).status==200&&b.push(`/registrado/${p.params.slug}`)}catch(r){n.value=!1;const i=(o=r.response)==null?void 0:o.status,g=(a=r.response)==null?void 0:a.data;if(!i){const k=r.request?"No se recibió respuesta del servidor.":`Error al configurar la solicitud: ${r.message}`;return console.error(k,r),{message:k,status:500}}let c=(g==null?void 0:g.message)||"Error inesperado";switch(i){case 422:c=`Error de validación: ${c}`;break;case 404:c=`Recurso no encontrado: ${c}`;break;case 500:c=`Error del servidor: ${c}`;break;default:console.error("Error inesperado con respuesta:",r)}w.value.message=c,w.value.visible=!0}finally{n.value=!1}},te=t=>{if(t)e.typedocument_id=null,e.documentnumber=null,e.lastname=null,e.middlename=null,e.name=null,e.gender_id=null,e.sick=null,e.phone=null,e.email=null,e.cargo_id=null,e.birthday=null,e.age=null,y.value=2,K(!0),m.value=!1,fe(()=>{const o=document.querySelector('[data-model="typedocument_id"]');o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.focus())});else return b.push(`/registrado/${p.params.slug}`)},N=async(t,o)=>{try{const a=await D({url:t,method:"GET"}),r=f.find(i=>i.model===o);r&&a.data&&(r.options=a.data)}catch(a){console.error("Error de red:",a)}},{loadSectorEconomico:ae,loadRubros:oe,loadCity:ie,loadTypeDocuments:le,loadGenders:se,loadPropagandaMedia:ne}=he(f);return I(async()=>{await ae(),await oe(),await ie(),await le(),await se(),await ne()}),(t,o)=>(v(),q("div",Ne,[l(be,{colorForm:"#ED7381",fields:f,onSearchDataApi:Z,onSubmit:ee,onChange:J,onHandleClearSearch:Q},null,8,["fields"]),l(Ee,{modelValue:w.value.visible,"onUpdate:modelValue":o[0]||(o[0]=a=>w.value.visible=a),color:w.value.color,top:"",right:""},{default:d(()=>[s("p",Ae,$(w.value.message),1)]),_:1},8,["modelValue","color"]),l(qe,{dialog:m.value,"onUpdate:dialog":o[1]||(o[1]=a=>m.value=a),onDialogChange:te},null,8,["dialog"]),l(B,{transition:"dialog-bottom-transition",modelValue:V.value,"onUpdate:modelValue":o[2]||(o[2]=a=>V.value=a),"max-width":"340"},{default:d(()=>[l(P,null,{default:d(()=>[l(U,null,{default:d(()=>[s("div",Fe,[l(H,{width:60,src:ve,style:{margin:"auto"}}),o[3]||(o[3]=s("span",{style:{display:"block","margin-top":"1rem"}},"¡Ya te has registrado en este evento! No necesitas volver a hacerlo.",-1))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Te={};function Pe(_,e){return v(),x(C,{cols:"12",class:"mt-8"},{default:d(()=>e[0]||(e[0]=[s("div",{class:"pp03-date"},[s("h4",null," ¡Recordatorio importante para el evento “Foro Perú Digital Ecommerce 2025”! "),s("p",{class:"my-2"},"Para que vivas una experiencia memorable y provechosa, te pedimos tener en cuenta lo siguiente"),s("ol",{class:"pl-4",style:{"font-size":"14px"}},[s("li",null,"Haber participado de alguna Sesión de Entrenamiento Digital."),s("li",null,"Disponer del tiempo completo para participar desde el inicio hasta el final del evento."),s("li",null,"Tener en cuenta que el pase enviado a su correo es personal e intransferible."),s("li",null,"Traer tu DNI.")])],-1)])),_:1,__:[0]})}const Me=Y(Te,[["render",Pe]]),ze={key:0,class:"sed"},Oe={key:1,class:"sed"},Ie={__name:"[slug]",setup(_){re("SED | Sesión de Entrenamiento Digital","Formulario de Fortalece tu Mercado","sed-pnte.ico");const e=O(),m=E({}),u=E(1),p=E(!0),b=async()=>{try{const n=e.params.slug,y=await D({url:`public/event-sed-details/${n}`,method:"GET"});m.value=(y==null?void 0:y.data)||{}}catch(n){console.error("Error de red:",n)}finally{p.value=!1}};return I(async()=>{await b()}),(n,y)=>(v(),x(De,{class:"fill-height",fluid:""},{default:d(()=>[l(T,{align:"center",justify:"center"},{default:d(()=>[l(C,{cols:"12",sm:"10",md:"8",lg:"6"},{default:d(()=>[l(_e,{"model-value":p.value,class:"align-center justify-center",persistent:"",scrim:""},{default:d(()=>[l(ye,{color:"#ED7381",size:"64",indeterminate:""})]),_:1},8,["model-value"]),p.value?S("",!0):(v(),x(P,{key:0,elevation:"4",rounded:"lg"},{default:d(()=>{var V,f;return[((V=m.value)==null?void 0:V.status)==404?(v(),q("section",ze,[l(ge,{info:m.value},null,8,["info"])])):S("",!0),(f=m.value)!=null&&f.slug?(v(),q("section",Oe,[l(ke,{info:m.value,color:"#ED7381",slideActive:u.value},null,8,["info","slideActive"]),u.value==1?(v(),x(we,{key:0,infoEvent:m.value,color:"#ED7381",onHandleInscription:y[0]||(y[0]=w=>u.value=2)},null,8,["infoEvent"])):S("",!0),u.value==2?(v(),x(Re,{key:1})):S("",!0),l(Me)])):S("",!0)]}),_:1}))]),_:1})]),_:1})]),_:1}))}},dt=Y(Ie,[["__scopeId","data-v-fb26e18f"]]);export{dt as default};
