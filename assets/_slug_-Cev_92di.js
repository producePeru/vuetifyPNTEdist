import{u as ne}from"./usePageMeta-XMt7t0ah.js";import{h as S}from"./httpRequest-B4w4n6I1.js";import{c as $,b as y,i as s,P as x,R as w,Q as d,j as r,n as de,Y as k,T as b,U as N,h as ce,V as ue,a6 as A,r as h,a5 as I,a8 as me,ad as pe,w as P,o as Y,N as fe,z as F,_ as B,a7 as _e,X as ye}from"./index-ajPZYogC.js";import{_ as ge}from"./EventFinalized-CN8eFMyh.js";import{d as z,V as H}from"./VDialog-DKyL9e_s.js";import"./es-VnVdE6rZ.js";import{a as C,V as R}from"./VRow-HoOF-t1a.js";import{V as O}from"./VImg-CV9cpeVg.js";import{_ as ve}from"./verificacion-DI9pvaX9.js";import{_ as be}from"./FormComponent-DLWF106S.js";import{V as M,b as U}from"./VCard-BHiqi3mE.js";import{u as he}from"./useFormOptions-D7Ovro3V.js";import{V as Ee}from"./VSnackbar-BiL6TvSQ.js";import{S as De}from"./SedPresentation-ZwKa5WJW.js";import{V as we}from"./VContainer-BJp9N6G5.js";/* empty css                                                       */import"./index-CmIsd57A.js";import"./VForm-Bz7FyKlH.js";import"./VAvatar-lNsJAEw5.js";import"./VList-S2GRPa1r.js";import"./ssrBoot-RP8Vy3-5.js";/* empty css                                                                        */const xe="/assets/foro-DgLSvvr2.svg",Ve={style:{"line-height":"2"}},Se={style:{"list-style":"none","padding-left":"0"}},ke={__name:"ForoHeader",props:{color:{type:String,default:"#02e4a5"},info:{type:Object,required:!0,default:()=>({})},slideActive:{type:Number,default:1}},setup(f){z.locale("es");const e=u=>{if(u)return z(u).locale("es").format("D [de] MMMM [de] YYYY")};return(u,c)=>(y(),$("section",null,[s(R,{justify:"center",align:"center",class:"h-100"},{default:d(()=>[s(C,{cols:"auto",class:"p-0"},{default:d(()=>[s(O,{width:160,src:xe})]),_:1})]),_:1}),f.info?(y(),x(R,{key:0},{default:d(()=>[s(C,{cols:"12",class:"text-center pt-0"},{default:d(()=>{var m;return[r("h1",{class:"title",style:de({color:f.color})},k((m=f.info)==null?void 0:m.title),5)]}),_:1}),f.slideActive==2?(y(),x(C,{key:0},{default:d(()=>{var m,g,n;return[r("div",Ve,[c[3]||(c[3]=r("h4",null,"Información",-1)),r("ul",Se,[r("li",null,[s(N,null,{default:d(()=>c[0]||(c[0]=[b("mdi-map-marker")])),_:1,__:[0]}),b(" LUGAR: "+k((m=f.info)==null?void 0:m.place),1)]),r("li",null,[s(N,{left:""},{default:d(()=>c[1]||(c[1]=[b("mdi-calendar")])),_:1,__:[1]}),b(" FECHA: "+k(e((g=f.info)==null?void 0:g.fecha)),1)]),r("li",null,[s(N,{left:""},{default:d(()=>c[2]||(c[2]=[b("mdi-clock-time-four-outline")])),_:1,__:[2]}),b(" HORARIO: "+k((n=f.info)==null?void 0:n.schedule),1)])])])]}),_:1})):w("",!0)]),_:1})):w("",!0)]))}},Ce={class:"text-center pa-4"},$e={href:"https://api.whatsapp.com/send?phone=+51901761128&text=%F0%9F%91%8BHola,%20quiero%20participar%20del%20foro%20",target:"_blank",class:"url-link"},qe={__name:"ModalComunicateLuis",props:{dialog:{type:Boolean,default:!1}},emits:["update:dialog","dialog-change"],setup(f,{emit:e}){const u=f,c=e,m=ce({get:()=>u.dialog,set:g=>c("update:dialog",g)});return(g,n)=>(y(),$("div",Ce,[s(H,{modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=_=>m.value=_),"max-width":"460",persistent:""},{default:d(()=>[s(M,{"prepend-icon":"mdi-account-group",title:"Atención"},{default:d(()=>[s(U,{class:"text-h7"},{default:d(()=>[n[2]||(n[2]=r("p",null,[b("Al parecer, no has participado de ninguna "),r("br"),r("b",null,"Sesión de Entrenamiento Digital"),b(".")],-1)),n[3]||(n[3]=r("p",{class:"mt-3"},"Por favor, ponte en contacto con nosotros para más información.",-1)),n[4]||(n[4]=r("br",null,null,-1)),r("a",$e,[s(ue,{color:"#28a219",text:"",block:""},{default:d(()=>n[1]||(n[1]=[b("Contactar por WhatsApp")])),_:1,__:[1]})])]),_:1,__:[2,3,4]})]),_:1})]),_:1},8,["modelValue"])]))}},Ne={class:"custom-form"},Ae={class:"text-center"},Fe={style:{"text-align":"center",margin:"auto"}},Re={__name:"ForoForm",setup(f){const e=A({socials:[]}),u=h(!1),c=A({}),m=I(),g=me(),n=h(!1),_=h(1),V=h(!1);F("formState",e),F("loadingStates",c),F("loadingSubmit",n);const p=A([{type:"title",label:"Datos de la Empresa",md:12},{type:"search",label:"Número de RUC",model:"ruc",required:!0,max:11,disabled:!1},{type:"text",label:"Razón Social",model:"razonSocial",required:!0,disabled:!0},{type:"title",label:"Datos del Participante",md:12},{type:"select",label:"Tipo de documento",model:"typedocument_id",required:!0,options:[]},{type:"search",label:"Número de Documento",model:"documentnumber",required:!0,max:8,disabled:!1},{type:"text",label:"Apellido Paterno",model:"lastname",required:!0,disabled:!0},{type:"text",label:"Apellido Materno",model:"middlename",required:!0,disabled:!0},{type:"text",label:"Nombres",model:"name",required:!0,disabled:!0},{type:"select",label:"Región",model:"city_id",required:!0,options:[],disabled:!1},{type:"select",label:"Provincia",model:"province_id",required:!0,options:[],disabled:!1},{type:"select",label:"Distrito",model:"district_id",required:!0,options:[],disabled:!1},{type:"text",label:"Dirección",model:"address",required:!0,disabled:!1},{type:"select",label:"¿Tiene alguna discapacidad?",model:"sick",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}]},{type:"number",label:"Número de celular",model:"phone",required:!0,max:9,minLength:9},{type:"email",label:"Correo electrónico",model:"email",required:!0},{type:"checkbox",label:"Autorizo la participación y el uso de mis datos personales e imagen para fines institucionales del Programa Tu Empresa, según la Ley N.º 29733",model:"autorization",required:!0,md:12,rows:3}]),D=h({visible:!1,message:"",color:"error"}),j=pe(),G=h(!1);P(G,a=>{j.global.name.value=a?"dark":"light"}),P(()=>e.birthday,a=>{a?e.age=`${L(a)}`:e.age=null});function L(a){const[l,t,i]=a.split("/").map(Number);if(!l||!t||!i)return null;const o=new Date(i,t-1,l),E=new Date;let v=E.getFullYear()-o.getFullYear();return E.getMonth()>o.getMonth()||E.getMonth()===o.getMonth()&&E.getDate()>=o.getDate()||v--,v}const K=(a=!0)=>{["ruc","razonSocial","comercialName","typeContribuyente_id","economicsector_id","rubro_id","comercialactivity_id","city_id","province_id","district_id","address"].forEach(t=>{const i=p.find(o=>o.model===t);i&&(i.disabled=a)})},Q=a=>{const l=p.find(t=>t.model===a);_.value==1&&a=="ruc"&&(e.ruc=null,e.razonSocial=null,l.disabled=!l.disabled),a=="documentnumber"&&(e.typedocument_id=null,e.documentnumber=null,e.name=null,e.lastname=null,e.middlename=null)},W=()=>{console.log("tyiotoototot"),["name","lastname","middlename"].forEach(a=>{const l=p.find(t=>t.model===a);l&&(l.disabled=!1)})},X=()=>{["name","lastname","middlename"].forEach(a=>{const l=p.find(t=>t.model===a);l&&(l.disabled=!0)})},J=async(a,l)=>{if(a.model=="typedocument_id"){const t=p.find(i=>i.model==="documentnumber");t.disabled=!1}if(a.model=="rubro_id"){e.comercialactivity_id=null;const t=await S({url:`select/activity-by-rubro/${a.value}`,method:"GET"}),i=p.find(o=>o.model==="comercialactivity_id");i.options=t.data}if(a.model=="city_id"){e.province_id=null,e.district_id=null;const t=`select/provinces/${a.value}`;T(t,"province_id")}if(a.model=="province_id"){e.district_id=null;const t=`select/districts/${a.value}`;T(t,"district_id")}if(a.model=="typedocument_id"){const t=p.find(i=>i.model==="documentnumber");a.value==1?(t.max=8,X()):(t.max=9,W())}},Z=async(a,l)=>{const t={column:a,number:e.ruc||e.documentnumber},i=await S({url:"events-pnte/is-registered",method:"POST",data:t});if(i.status==200){const{data:o}=i;e.ruc=o.ruc,e.razonSocial=o.socialReason,e.typedocument_id=o.typedocument_id,e.documentnumber=o.documentnumber,e.name=o.name,e.lastname=o.lastname,e.middlename=o.middlename,e.phone=o.phone,e.email=o.email,e.address=o.address,e.category_id=o.category_id,e.city_id=o.city_id,e.province_id=o.province_id,e.district_id=o.district_id,e.comercialactivity_id=o.comercialactivity_id,e.economicsector_id=o.economicsector_id,e.age=o.age,e.comercialName=o.comercialName,e.howKnowEvent_id=o.howKnowEvent_id,e.positionCompany=o.positionCompany}else u.value=!0;c.ruc=!1,c.documentnumber=!1},ee=async()=>{var l,t;n.value=!0;const a={ruc:e.ruc,comercialName:e.comercialName,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,category_id:e.category_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,typeAsistente:_.value,documentnumber:e.documentnumber,sick:e.sick,phone:e.phone,email:e.email,positionCompany:e.positionCompany,howKnowEvent_id:e.howKnowEvent_id,slug:m.params.slug,age:e.age,name:e.name,lastname:e.lastname};try{(await S({url:"events-pnte/participant-registration-sed",method:"POST",data:a})).status==200&&g.push(`/registrado/${m.params.slug}`)}catch(i){n.value=!1;const o=(l=i.response)==null?void 0:l.status,E=(t=i.response)==null?void 0:t.data;if(!o){const q=i.request?"No se recibió respuesta del servidor.":`Error al configurar la solicitud: ${i.message}`;return console.error(q,i),{message:q,status:500}}let v=(E==null?void 0:E.message)||"Error inesperado";switch(o){case 422:v=`Error de validación: ${v}`;break;case 404:v=`Recurso no encontrado: ${v}`;break;case 500:v=`Error del servidor: ${v}`;break;default:console.error("Error inesperado con respuesta:",i)}D.value.message=v,D.value.visible=!0}finally{n.value=!1}},te=a=>{if(a)e.typedocument_id=null,e.documentnumber=null,e.lastname=null,e.middlename=null,e.name=null,e.gender_id=null,e.sick=null,e.phone=null,e.email=null,e.cargo_id=null,e.birthday=null,e.age=null,_.value=2,K(!0),u.value=!1,fe(()=>{const l=document.querySelector('[data-model="typedocument_id"]');l&&(l.scrollIntoView({behavior:"smooth",block:"center"}),l.focus())});else return g.push(`/registrado/${m.params.slug}`)},T=async(a,l)=>{try{const t=await S({url:a,method:"GET"}),i=p.find(o=>o.model===l);i&&t.data&&(i.options=t.data)}catch(t){console.error("Error de red:",t)}},{loadSectorEconomico:ae,loadRubros:oe,loadCity:le,loadTypeDocuments:ie,loadGenders:se,loadPropagandaMedia:re}=he(p);return Y(async()=>{await ae(),await oe(),await le(),await ie(),await se(),await re()}),(a,l)=>(y(),$("div",Ne,[s(be,{colorForm:"#ED7381",fields:p,onSearchDataApi:Z,onSubmit:ee,onChange:J,onHandleClearSearch:Q},null,8,["fields"]),s(Ee,{modelValue:D.value.visible,"onUpdate:modelValue":l[0]||(l[0]=t=>D.value.visible=t),color:D.value.color,top:"",right:""},{default:d(()=>[r("p",Ae,k(D.value.message),1)]),_:1},8,["modelValue","color"]),s(qe,{dialog:u.value,"onUpdate:dialog":l[1]||(l[1]=t=>u.value=t),onDialogChange:te},null,8,["dialog"]),s(H,{transition:"dialog-bottom-transition",modelValue:V.value,"onUpdate:modelValue":l[2]||(l[2]=t=>V.value=t),"max-width":"340"},{default:d(()=>[s(M,null,{default:d(()=>[s(U,null,{default:d(()=>[r("div",Fe,[s(O,{width:60,src:ve,style:{margin:"auto"}}),l[3]||(l[3]=r("span",{style:{display:"block","margin-top":"1rem"}},"¡Ya te has registrado en este evento! No necesitas volver a hacerlo.",-1))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Me={};function Te(f,e){return y(),x(C,{cols:"12",class:"mt-8"},{default:d(()=>e[0]||(e[0]=[r("div",{class:"pp03-date"},[r("h4",null," ¡Recordatorio importante para el evento “Foro Perú Digital Ecommerce 2025”! "),r("p",{class:"my-2"},"Para que vivas una experiencia memorable y provechosa, te pedimos tener en cuenta lo siguiente"),r("ol",{class:"pl-4",style:{"font-size":"14px"}},[r("li",null,"Haber participado de alguna Sesión de Entrenamiento Digital."),r("li",null,"Disponer del tiempo completo para participar desde el inicio hasta el final del evento."),r("li",null,"Tener en cuenta que el pase enviado a su correo es personal e intransferible."),r("li",null,"Traer tu DNI.")])],-1)])),_:1,__:[0]})}const Pe=B(Me,[["render",Te]]),ze={key:0,class:"sed"},Ie={key:1,class:"sed"},Ye={__name:"[slug]",setup(f){ne("SED | Sesión de Entrenamiento Digital","Formulario de Fortalece tu Mercado","sed-pnte.ico");const e=I(),u=h({}),c=h(1),m=h(!0),g=async()=>{try{const n=e.params.slug,_=await S({url:`public/event-sed-details/${n}`,method:"GET"});u.value=(_==null?void 0:_.data)||{}}catch(n){console.error("Error de red:",n)}finally{m.value=!1}};return Y(async()=>{await g()}),(n,_)=>(y(),x(we,{class:"fill-height",fluid:""},{default:d(()=>[s(R,{align:"center",justify:"center"},{default:d(()=>[s(C,{cols:"12",sm:"10",md:"8",lg:"6"},{default:d(()=>[s(_e,{"model-value":m.value,class:"align-center justify-center",persistent:"",scrim:""},{default:d(()=>[s(ye,{color:"#ED7381",size:"64",indeterminate:""})]),_:1},8,["model-value"]),m.value?w("",!0):(y(),x(M,{key:0,elevation:"4",rounded:"lg"},{default:d(()=>{var V,p;return[((V=u.value)==null?void 0:V.status)==404?(y(),$("section",ze,[s(ge,{info:u.value},null,8,["info"])])):w("",!0),(p=u.value)!=null&&p.slug?(y(),$("section",Ie,[s(ke,{info:u.value,color:"#ED7381",slideActive:c.value},null,8,["info","slideActive"]),c.value==1?(y(),x(De,{key:0,infoEvent:u.value,color:"#ED7381",onHandleInscription:_[0]||(_[0]=D=>c.value=2)},null,8,["infoEvent"])):w("",!0),c.value==2?(y(),x(Re,{key:1})):w("",!0),s(Pe)])):w("",!0)]}),_:1}))]),_:1})]),_:1})]),_:1}))}},dt=B(Ye,[["__scopeId","data-v-fb26e18f"]]);export{dt as default};
