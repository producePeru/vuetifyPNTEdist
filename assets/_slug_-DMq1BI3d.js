import{u as re}from"./usePageMeta-B76ZMFp1.js";import{h as D}from"./httpRequest-D3KC4pOG.js";import{c as C,b as g,e as s,f as V,l as S,w as d,d as n,q as de,t as x,g as h,V as F,v as ce,B as ue,h as N,r as E,i as O,j as me,u as pe,k as R,o as B,D as fe,p as T,_ as I,m as _e,n as ye}from"./index-bG9PLxWn.js";import{_ as ge}from"./EventFinalized-Dc5N9tS-.js";import{d as z}from"./dayjs.min-BaPeHrhp.js";import"./es-nefKSrI6.js";import{V as $,a as M}from"./VRow-B-AC1Ufx.js";import{V as H}from"./VAvatar-COWaWd0n.js";import{_ as ve}from"./verificacion-DI9pvaX9.js";import{_ as be}from"./FormComponent-nsSCqzDe.js";import{V as P,b as Y}from"./VCard-CqHVf1MR.js";import{V as j}from"./VDialog-D4DprD_L.js";import{u as he}from"./useFormOptions-BD_ZbAMu.js";import{V as Ee}from"./VSnackbar-BaFNwrfk.js";import{S as we}from"./SedPresentation-DmOYw-Vp.js";import{V as De}from"./VContainer-BKkkOynS.js";/* empty css                                                       */import"./index-jNK3wK6z.js";import"./VSelect-BTM-Hnfo.js";import"./VList-BznAjpR3.js";import"./VForm-Dl8meO2Q.js";/* empty css                                                                        */const Se="/assets/foro-DgLSvvr2.svg",Ve={style:{"line-height":"2"}},ke={style:{"list-style":"none","padding-left":"0"}},xe={__name:"ForoHeader",props:{color:{type:String,default:"#02e4a5"},info:{type:Object,required:!0,default:()=>({})},slideActive:{type:Number,default:1}},setup(f){z.locale("es");const e=m=>{if(m)return z(m).locale("es").format("D [de] MMMM [de] YYYY")};return(m,u)=>(g(),C("section",null,[s(M,{justify:"center",align:"center",class:"h-100"},{default:d(()=>[s($,{cols:"auto",class:"p-0"},{default:d(()=>[s(H,{width:160,src:Se})]),_:1})]),_:1}),f.info?(g(),V(M,{key:0},{default:d(()=>[s($,{cols:"12",class:"text-center pt-0"},{default:d(()=>{var p;return[n("h1",{class:"title",style:de({color:f.color})},x((p=f.info)==null?void 0:p.title),5)]}),_:1}),f.slideActive==2?(g(),V($,{key:0},{default:d(()=>{var p,v,r;return[n("div",Ve,[u[3]||(u[3]=n("h4",null,"Información",-1)),n("ul",ke,[n("li",null,[s(F,null,{default:d(()=>u[0]||(u[0]=[h("mdi-map-marker")])),_:1,__:[0]}),h(" LUGAR: "+x((p=f.info)==null?void 0:p.place),1)]),n("li",null,[s(F,{left:""},{default:d(()=>u[1]||(u[1]=[h("mdi-calendar")])),_:1,__:[1]}),h(" FECHA: "+x(e((v=f.info)==null?void 0:v.fecha)),1)]),n("li",null,[s(F,{left:""},{default:d(()=>u[2]||(u[2]=[h("mdi-clock-time-four-outline")])),_:1,__:[2]}),h(" HORARIO: "+x((r=f.info)==null?void 0:r.schedule),1)])])])]}),_:1})):S("",!0)]),_:1})):S("",!0)]))}},$e={class:"text-center pa-4"},Ce={href:"https://api.whatsapp.com/send?phone=+51901761128&text=%F0%9F%91%8BHola,%20quiero%20participar%20del%20foro%20",target:"_blank",class:"url-link"},qe={__name:"ModalComunicateLuis",props:{dialog:{type:Boolean,default:!1}},emits:["update:dialog","dialog-change"],setup(f,{emit:e}){const m=f,u=e,p=ce({get:()=>m.dialog,set:v=>u("update:dialog",v)});return(v,r)=>(g(),C("div",$e,[s(j,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=_=>p.value=_),"max-width":"460",persistent:""},{default:d(()=>[s(P,{"prepend-icon":"mdi-account-group",title:"Atención"},{default:d(()=>[s(Y,{class:"text-h7"},{default:d(()=>[r[2]||(r[2]=n("p",null,[h("Al parecer, no has participado de ninguna "),n("br"),n("b",null,"Sesión de Entrenamiento Digital"),h(".")],-1)),r[3]||(r[3]=n("p",{class:"mt-3"},"Por favor, ponte en contacto con nosotros para más información.",-1)),r[4]||(r[4]=n("br",null,null,-1)),n("a",Ce,[s(ue,{color:"#28a219",text:"",block:""},{default:d(()=>r[1]||(r[1]=[h("Contactar por WhatsApp")])),_:1,__:[1]})])]),_:1,__:[2,3,4]})]),_:1})]),_:1},8,["modelValue"])]))}},Ae={class:"custom-form"},Fe={class:"text-center"},Ne={style:{"text-align":"center",margin:"auto"}},Te={__name:"ForoForm",setup(f){const e=N({socials:[]}),m=E(!1),u=N({}),p=O(),v=me(),r=E(!1),_=E(1),k=E(!1);T("formState",e),T("loadingStates",u),T("loadingSubmit",r);const y=N([{type:"title",label:"Datos del Participante",md:12},{type:"select",label:"Tipo de documento",model:"typedocument_id",required:!0,options:[]},{type:"search",label:"Número de Documento",model:"documentnumber",required:!0,max:8,disabled:!1},{type:"text",label:"Apellido Paterno",model:"lastname",required:!0,disabled:!0},{type:"text",label:"Apellido Materno",model:"middlename",required:!0,disabled:!1},{type:"text",label:"Nombres",model:"name",required:!0,disabled:!0},{type:"select",label:"Región",model:"city_id",required:!0,options:[],disabled:!1},{type:"select",label:"Provincia",model:"province_id",required:!0,options:[],disabled:!1},{type:"select",label:"Distrito",model:"district_id",required:!0,options:[],disabled:!1},{type:"text",label:"Dirección",model:"address",required:!0,disabled:!1},{type:"select",label:"¿Tiene alguna discapacidad?",model:"sick",required:!0,options:[{label:"Si",value:"si"},{label:"No",value:"no"}]},{type:"number",label:"Número de celular",model:"phone",required:!0,max:9,minLength:9},{type:"email",label:"Correo electrónico",model:"email",required:!0},{type:"checkbox",label:"Autorizo la participación y el uso de mis datos personales e imagen para fines institucionales del Programa Tu Empresa, según la Ley N.º 29733",model:"autorization",required:!0,md:12,rows:3}]),w=E({visible:!1,message:"",color:"error"}),G=pe(),L=E(!1);R(L,a=>{G.global.name.value=a?"dark":"light"}),R(()=>e.birthday,a=>{a?e.age=`${U(a)}`:e.age=null});function U(a){const[i,o,l]=a.split("/").map(Number);if(!i||!o||!l)return null;const t=new Date(l,o-1,i),c=new Date;let b=c.getFullYear()-t.getFullYear();return c.getMonth()>t.getMonth()||c.getMonth()===t.getMonth()&&c.getDate()>=t.getDate()||b--,b}const K=(a=!0)=>{["ruc","razonSocial","comercialName","typeContribuyente_id","economicsector_id","rubro_id","comercialactivity_id","city_id","province_id","district_id","address"].forEach(o=>{const l=y.find(t=>t.model===o);l&&(l.disabled=a)})},W=a=>{const i=y.find(o=>o.model===a);_.value==1&&a=="ruc"&&(e.ruc=null,e.razonSocial=null,i.disabled=!i.disabled),a=="documentnumber"&&(e.typedocument_id=null,e.documentnumber=null,e.name=null,e.lastname=null,e.middlename=null)},J=()=>{console.log("tyiotoototot")},Q=()=>{["name","lastname","middlename"].forEach(a=>{const i=y.find(o=>o.model===a);i&&(i.disabled=!0)})},X=async(a,i)=>{if(a.model=="typedocument_id"){const o=y.find(l=>l.model==="documentnumber");o.disabled=!1}if(a.model=="rubro_id"){e.comercialactivity_id=null;const o=await D({url:`select/activity-by-rubro/${a.value}`,method:"GET"}),l=y.find(t=>t.model==="comercialactivity_id");l.options=o.data}if(a.model=="city_id"){e.province_id=null,e.district_id=null;const o=`select/provinces/${a.value}`;q(o,"province_id")}if(a.model=="province_id"){e.district_id=null;const o=`select/districts/${a.value}`;q(o,"district_id")}if(a.model=="typedocument_id"){const o=y.find(l=>l.model==="documentnumber");a.value==1?(o.max=8,Q()):(o.max=9,J())}},Z=async a=>{let i=null;a=="documentnumber"&&(i=e.documentnumber),a=="ruc"&&(i=e.ruc);const o={column:a,number:i},l=await D({url:"events-pnte/is-registered",method:"POST",data:o});if(l.status==200){const{data:t}=l;if(a=="documentnumber"){const c=await D({url:`public/consult-businessman-dni/${t.documentnumber}`,method:"POST",data:o});c.status==200&&(e.name=c.data.name,e.lastname=c.data.lastname,e.middlename=c.data.middlename)}if(a=="ruc"){const c=await D({url:`public/consult-company-ruc/${t.ruc}`,method:"POST",data:o});c.status==200&&(e.razonSocial=c.data.socialReason)}if(e.ruc=t.ruc,e.razonSocial=t.socialReason||t.comercialName,e.documentnumber=t.documentnumber,e.typedocument_id=t.typedocument_id,e.phone=t.phone,e.email=t.email,e.category_id=t.category_id,t.city_id){e.city_id=t.city_id;const c=`select/provinces/${t.city_id}`;q(c,"province_id")}if(t.province_id){e.province_id=t.province_id;const c=`select/districts/${t.province_id}`;q(c,"district_id")}e.district_id=t.district_id,e.address=t.address,e.comercialactivity_id=t.comercialactivity_id,e.economicsector_id=t.economicsector_id,e.age=t.age,e.comercialName=t.comercialName,e.howKnowEvent_id=t.howKnowEvent_id,e.positionCompany=t.positionCompany}else m.value=!0;u.ruc=!1,u.documentnumber=!1},ee=async()=>{var i,o;r.value=!0;const a={ruc:e.ruc,comercialName:e.comercialName,economicsector_id:e.economicsector_id,comercialactivity_id:e.comercialactivity_id,category_id:e.category_id,city_id:e.city_id,province_id:e.province_id,district_id:e.district_id,address:e.address,typeAsistente:_.value,documentnumber:e.documentnumber,sick:e.sick,phone:e.phone,email:e.email,positionCompany:e.positionCompany,howKnowEvent_id:e.howKnowEvent_id,slug:p.params.slug,age:e.age,name:e.name,lastname:e.lastname};try{(await D({url:"events-pnte/participant-registration-sed",method:"POST",data:a})).status==200&&v.push(`/registrado/${p.params.slug}`)}catch(l){r.value=!1;const t=(i=l.response)==null?void 0:i.status,c=(o=l.response)==null?void 0:o.data;if(!t){const A=l.request?"No se recibió respuesta del servidor.":`Error al configurar la solicitud: ${l.message}`;return console.error(A,l),{message:A,status:500}}let b=(c==null?void 0:c.message)||"Error inesperado";switch(t){case 422:b=`Error de validación: ${b}`;break;case 404:b=`Recurso no encontrado: ${b}`;break;case 500:b=`Error del servidor: ${b}`;break;default:console.error("Error inesperado con respuesta:",l)}w.value.message=b,w.value.visible=!0}finally{r.value=!1}},te=a=>{if(a)e.typedocument_id=null,e.documentnumber=null,e.lastname=null,e.middlename=null,e.name=null,e.gender_id=null,e.sick=null,e.phone=null,e.email=null,e.cargo_id=null,e.birthday=null,e.age=null,_.value=2,K(!0),m.value=!1,fe(()=>{const i=document.querySelector('[data-model="typedocument_id"]');i&&(i.scrollIntoView({behavior:"smooth",block:"center"}),i.focus())});else return v.push(`/registrado/${p.params.slug}`)},q=async(a,i)=>{try{const o=await D({url:a,method:"GET"}),l=y.find(t=>t.model===i);l&&o.data&&(l.options=o.data)}catch(o){console.error("Error de red:",o)}},{loadSectorEconomico:ae,loadRubros:oe,loadCity:ie,loadTypeDocuments:le,loadGenders:se,loadPropagandaMedia:ne}=he(y);return B(async()=>{await ae(),await oe(),await ie(),await le(),await se(),await ne()}),(a,i)=>(g(),C("div",Ae,[s(be,{colorForm:"#ED7381",fields:y,onSearchDataApi:Z,onSubmit:ee,onChange:X,onHandleClearSearch:W},null,8,["fields"]),s(Ee,{modelValue:w.value.visible,"onUpdate:modelValue":i[0]||(i[0]=o=>w.value.visible=o),color:w.value.color,top:"",right:""},{default:d(()=>[n("p",Fe,x(w.value.message),1)]),_:1},8,["modelValue","color"]),s(qe,{dialog:m.value,"onUpdate:dialog":i[1]||(i[1]=o=>m.value=o),onDialogChange:te},null,8,["dialog"]),s(j,{transition:"dialog-bottom-transition",modelValue:k.value,"onUpdate:modelValue":i[2]||(i[2]=o=>k.value=o),"max-width":"340"},{default:d(()=>[s(P,null,{default:d(()=>[s(Y,null,{default:d(()=>[n("div",Ne,[s(H,{width:60,src:ve,style:{margin:"auto"}}),i[3]||(i[3]=n("span",{style:{display:"block","margin-top":"1rem"}},"¡Ya te has registrado en este evento! No necesitas volver a hacerlo.",-1))])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Me={};function Pe(f,e){return g(),V($,{cols:"12",class:"mt-8"},{default:d(()=>e[0]||(e[0]=[n("div",{class:"pp03-date"},[n("h4",null," ¡Recordatorio importante para el evento “Foro Perú Digital Ecommerce 2025”! "),n("p",{class:"my-2"},"Para que vivas una experiencia memorable y provechosa, te pedimos tener en cuenta lo siguiente"),n("ol",{class:"pl-4",style:{"font-size":"14px"}},[n("li",null,"Haber participado de alguna Sesión de Entrenamiento Digital."),n("li",null,"Disponer del tiempo completo para participar desde el inicio hasta el final del evento."),n("li",null,"Tener en cuenta que el pase enviado a su correo es personal e intransferible."),n("li",null,"Traer tu DNI.")])],-1)])),_:1,__:[0]})}const Re=I(Me,[["render",Pe]]),ze={key:0,class:"sed"},Oe={key:1,class:"sed"},Be={__name:"[slug]",setup(f){re("SED | Sesión de Entrenamiento Digital","Formulario de Fortalece tu Mercado","sed-pnte.ico");const e=O(),m=E({}),u=E(1),p=E(!0),v=async()=>{try{const r=e.params.slug,_=await D({url:`public/event-sed-details/${r}`,method:"GET"});m.value=(_==null?void 0:_.data)||{}}catch(r){console.error("Error de red:",r)}finally{p.value=!1}};return B(async()=>{await v()}),(r,_)=>(g(),V(De,{class:"fill-height",fluid:""},{default:d(()=>[s(M,{align:"center",justify:"center"},{default:d(()=>[s($,{cols:"12",sm:"10",md:"8",lg:"6"},{default:d(()=>[s(_e,{"model-value":p.value,class:"align-center justify-center",persistent:"",scrim:""},{default:d(()=>[s(ye,{color:"#ED7381",size:"64",indeterminate:""})]),_:1},8,["model-value"]),p.value?S("",!0):(g(),V(P,{key:0,elevation:"4",rounded:"lg"},{default:d(()=>{var k,y;return[((k=m.value)==null?void 0:k.status)==404?(g(),C("section",ze,[s(ge,{info:m.value},null,8,["info"])])):S("",!0),(y=m.value)!=null&&y.slug?(g(),C("section",Oe,[s(xe,{info:m.value,color:"#ED7381",slideActive:u.value},null,8,["info","slideActive"]),u.value==1?(g(),V(we,{key:0,infoEvent:m.value,color:"#ED7381",onHandleInscription:_[0]||(_[0]=w=>u.value=2)},null,8,["infoEvent"])):S("",!0),u.value==2?(g(),V(Te,{key:1})):S("",!0),s(Re)])):S("",!0)]}),_:1}))]),_:1})]),_:1})]),_:1}))}},dt=I(Be,[["__scopeId","data-v-fb26e18f"]]);export{dt as default};
